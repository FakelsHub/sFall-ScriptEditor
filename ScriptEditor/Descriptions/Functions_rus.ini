// Файл содержит меню стандартных функций. Сюда, также, можно добавлять чего-нибудь своё
// Описания функций взяты (по большей части) из доки "Функции компилятора скриптов Fallout 2 от BIS" от Wasteland Ghost
// Править данный файл удобнее всего, открыв его в редакторе скриптов.
//
// Структура:
// <m>"пункт меню"
// "имя функции"<d>"краткое описание функции"<s>"то, что будет вставлено в скрипт"
// <m+>"пункт подменю"
// <m->
//
// <-> разделитель (только для верхнего уровня меню)
//
// В "пункт меню", "имя функции", "краткое описание функции" и
// "то, что будет вставлено в скрипт" можно вставлять любые символы, кроме управляющих
//
// <cr> служит для перевода строки и добавляется только в "то, что будет вставлено в скрипт"
//
// Исходный файл позаимствован из программы конструктора скриптов "F-Geck" by Tehnokrat.
//
<m>Конструкторы 
<m+>Ключевые слова
call<d>Вызов процедуры<s>call {procedure};
return<d><s>return;<cr>
spawn<d>[void] Вызывает (порождает) указанный скрипт<s>spawn({string int_file_name});<cr>
fork<d>[void] Вызывает указанный скрипт<s>fork({string int_file_name});<cr>
Cancel<d>[void] Отменяет вызов ожидающей в стеке процедуры<s>Cancel({procedure procedure_name});<cr>
CancelAll<d>[void] Отменяет вызов всех ожидающих в стеке процедур<s>CancelAll;<cr>
wait<d>[void] Останавливает игру на указанное время<s>wait({int time});<cr>
exit<d>Завершает выполнение скрипта, в котором вызвана<s>exit;<cr>
floor<d>Возвращает целое число округленное в меньшую сторону.<s>floor({float}) 
<m->
<m+>Описания
variable<d>Описание переменной<s>variable 
export variable<d>Экспорт переменной<s>export variable 
import variable<d>Импорт переменной<s>import variable 
procedure<d>Описание процедуры<s>procedure 
export procedure<d>Экспорт процедуры<s>export procedure 
import procedure<d>Импорт процедуры<s>import procedure 
<m->
<m+>Условные операторы
if ... then ... <d>Условный оператор<s>if {condition} then
if ... then begin ... end<d>Условный оператор<s>if {condition} then begin<cr><cr>end<cr>
if ... then ... else ...<d>Условный оператор<s>if {condition} then<cr>else
if ... then ... else if ...<d>Условный оператор<s>if {condition} then<cr>else if {condition} then
if ... then begin ... end else begin ... end<d>Условный оператор<s>if {condition} then begin<cr><cr>end else begin<cr><cr>end<cr>
if ... then begin ... end else if begin ... end<d>Условный оператор<s>if {condition} then begin<cr><cr>end else if {condition}then begin<cr><cr>end<cr>
<m->
<m+>Операторы цикла
while ... do ...<d>Оператор цикла: выполняется пока условие истинно<s>while ({condition}) do
while ... do begin...end<d>Оператор цикла: выполняется пока условие истинно<s>while ({condition}) do begin<cr><cr>end<cr>
for<d>Оператор цикла<s>for ({variable}:={number}; {condition}; {variable step}) begin<cr><cr>end<cr> 
foreach<d>Оператор цикла<s>foreach ({variable item} in {collection}) begin<cr><cr>end<cr>
<m->
<m+>Инструкции препроцессора
#define<d>Оператор макрозамены<s>#define 
#include<d>Подключить библиотеку<s>#include 
#ifdef ... #endif<d><s>#if <cr><cr>#else<cr><cr>#endif<cr>
#if ... #endif<d><s>#ifdef <cr><cr>#else<cr><cr>#endif<cr>
Стандартные *.h<d>Подключает стандартные библиотеки<s>#include "..\headers\define.h"<cr>#include "..\headers\command.h"<cr>
<m->
<m+>Константы компиляции
RELEASE<d>Константа для релизной компиляции<s>#define RELEASE               (1)<cr>
DEBUG<d>Константа для компиляции с отладочной информацией<s>#define DEBUG                (1)<cr>
SFALL_SC_EVALUATION<d>Определение для редактора указывающие компилятору sfall, скомпилировать скрипт с опцией short-circuit evaluation.<s>#define SFALL_SC_EVALUATION   (true)<cr>
<m->
<->
<m>Определения Sfall (sfall.h)
<m+>Флаги игрового режима
WORLDMAP<d>Значение: (0x1)<s>WORLDMAP
LOCALMAP<d>Значение: (0x2)<s>LOCALMAP
DIALOG<d>Значение: (0x4)<s>DIALOG
ESCMENU<d>Значение: (0x8)<s>ESCMENU
SAVEGAME<d>Значение: (0x10)<s>SAVEGAME
LOADGAME<d>Значение: (0x20)<s>LOADGAME
COMBAT<d>Значение: (0x40)<s>COMBAT
OPTIONS<d>Значение: (0x80)<s>OPTIONS
HELP<d>Значение:  (0x100)<s>HELP
CHARSCREEN<d>Значение: (0x200)<s>CHARSCREEN
PIPBOY<d>Значение: (0x400)<s>PIPBOY
PCOMBAT<d>Значение: (0x800)<s>PCOMBAT
INVENTORY<d>Значение: (0x1000)<s>INVENTORY
AUTOMAP<d>Значение: (0x2000)<s>AUTOMAP
SKILLDEX<d>Значение: (0x4000)<s>SKILLDEX
INTFACEUSE<d>Значение: (0x8000)<s>INTFACEUSE
INTFACELOOT<d>Значение: (0x10000)<s>INTFACELOOT
BARTER<d>Значение: (0x20000)<s>BARTER
HEROWIN<d>Значение: (0x40000)<s>HEROWIN
<m->
<m+>Hooks 
HOOK_TOHIT<d>Значение: (0)<s>HOOK_TOHIT
HOOK_AFTERHITROLL<d>Значение: (1)<s>HOOK_AFTERHITROLL
HOOK_CALCAPCOST<d>Значение: (2)<s>HOOK_CALCAPCOST
HOOK_DEATHANIM1<d>Значение: (3)<s>HOOK_DEATHANIM1
HOOK_DEATHANIM2<d>Значение: (4)<s>HOOK_DEATHANIM2
HOOK_COMBATDAMAGE<d>Значение: (5)<s>HOOK_COMBATDAMAGE
HOOK_ONDEATH<d>Значение: (6)<s>HOOK_ONDEATH
HOOK_FINDTARGET<d>Значение: (7)<s>HOOK_FINDTARGET
HOOK_USEOBJON<d>Значение: (8)<s>HOOK_USEOBJON
HOOK_REMOVEINVENOBJ<d>Значение: (9)<s>HOOK_REMOVEINVENOBJ
HOOK_BARTERPRICE<d>Значение: (10)<s>HOOK_BARTERPRICE
HOOK_MOVECOST<d>Значение: (11)<s>HOOK_MOVECOST
HOOK_HEXMOVEBLOCKING<d>Значение: (12)<s>HOOK_HEXMOVEBLOCKING
HOOK_HEXAIBLOCKING<d>Значение: (13)<s>HOOK_HEXAIBLOCKING
HOOK_HEXSHOOTBLOCKING<d>Значение: (14)<s>HOOK_HEXSHOOTBLOCKING
HOOK_HEXSIGHTBLOCKING<d>Значение: (15)<s>HOOK_HEXSIGHTBLOCKING
HOOK_ITEMDAMAGE<d>Значение: (16)<s>HOOK_ITEMDAMAGE
HOOK_AMMOCOST<d>Значение: (17)<s>HOOK_AMMOCOST
HOOK_USEOBJ<d>Значение: (18)<s>HOOK_USEOBJ
HOOK_KEYPRESS<d>Значение: (19)<s>HOOK_KEYPRESS
HOOK_MOUSECLICK<d>Значение: (20)<s>HOOK_MOUSECLICK
HOOK_USESKILL<d>Значение: (21)<s>HOOK_USESKILL
HOOK_STEAL<d>Значение: (22)<s>HOOK_STEAL
HOOK_WITHINPERCEPTION<d>Значение: (23)<s>HOOK_WITHINPERCEPTION
HOOK_INVENTORYMOVE<d>Значение: (24)<s>HOOK_INVENTORYMOVE
HOOK_INVENWIELD<d>Значение: (25)<s>HOOK_INVENWIELD
HOOK_ADJUSTFID<d>Значение: (26)<s>HOOK_ADJUSTFID
HOOK_COMBATTURN<d>Значение: (27)<s>HOOK_COMBATTURN
HOOK_CARTRAVEL<d>Значение: (28)<s>HOOK_CARTRAVEL
<m->
<m>Основные определения (Define.h)
<m+>Цвет всплывающих сообщений
FLOAT_MSG_WARNING<d>Предупреждение<s>FLOAT_MSG_WARNING
FLOAT_MSG_SEQUENTIAL<d>Враждебный<s>FLOAT_MSG_SEQUENTIAL
FLOAT_MSG_NORMAL<d>Нормальный<s>FLOAT_MSG_NORMAL
FLOAT_MSG_BLACK<d>Чёрный<s>FLOAT_MSG_BLACK
FLOAT_MSG_RED<d>Красный<s>FLOAT_MSG_RED
FLOAT_MSG_GREEN<d>Зелёный<s>FLOAT_MSG_GREEN
FLOAT_MSG_BLUE<d>Синий<s>FLOAT_MSG_BLUE
FLOAT_MSG_PURPLE<d>Пурпурный<s>FLOAT_MSG_PURPLE
FLOAT_MSG_NEAR_WHITE<d>Бледный<s>FLOAT_MSG_NEAR_WHITE
FLOAT_MSG_LIGHT_RED<d>Светло-красный<s>FLOAT_MSG_LIGHT_RED
FLOAT_MSG_YELLOW<d>Жёлтый<s>FLOAT_MSG_YELLOW
FLOAT_MSG_WHITE<d>Белый<s>FLOAT_MSG_WHITE
FLOAT_MSG_GREY<d>Серый<s>FLOAT_MSG_GREY
FLOAT_MSG_DARK_GREY<d>Тёмно-серый<s>FLOAT_MSG_DARK_GREY
FLOAT_MSG_LIGHT_GREY<d>Светло-серый<s>FLOAT_MSG_LIGHT_GREY
<m->
<m+>Умения (Skills)
SKILL_SMALL_GUNS<d>Ручное оружие<s>SKILL_SMALL_GUNS
SKILL_BIG_GUNS<d>Тяжёлое оружие<s>SKILL_BIG_GUNS
SKILL_ENERGY_WEAPONS<d>Энергетическое оружие<s>SKILL_ENERGY_WEAPONS
SKILL_UNARMED_COMBAT<d>Рукопашная<s>SKILL_UNARMED_COMBAT
SKILL_MELEE<d>Холодное оружие<s>SKILL_MELEE
SKILL_THROWING<d>Метательное оружие<s>SKILL_THROWING
SKILL_FIRST_AID<d>Первая помощь<s>SKILL_FIRST_AID
SKILL_DOCTOR<d>Доктор<s>SKILL_DOCTOR
SKILL_SNEAK<d>Красться<s>SKILL_SNEAK
SKILL_LOCKPICK<d>Взламывать<s>SKILL_LOCKPICK
SKILL_STEAL<d>Воровать<s>SKILL_STEAL
SKILL_TRAPS<d>Ловушки<s>SKILL_TRAPS
SKILL_SCIENCE<d>Наука<s>SKILL_SCIENCE
SKILL_REPAIR<d>Ремонт<s>SKILL_REPAIR
SKILL_CONVERSANT<d>Разговор<s>SKILL_CONVERSANT
SKILL_BARTER<d>Торговля<s>SKILL_BARTER
SKILL_GAMBLING<d>Игра<s>SKILL_GAMBLING
SKILL_OUTDOORSMAN<d>Скиталец<s>SKILL_OUTDOORSMAN
<m->
<m+>Время (Ticks)
ONE_GAME_SECOND<d>Одна секунда в тиках<s>ONE_GAME_SECOND
ONE_GAME_MINUTE<d>Одна минута в тиках<s>ONE_GAME_MINUTE
ONE_GAME_HOUR<d>Один час в тиках<s>ONE_GAME_HOUR
ONE_GAME_DAY<d>День в тиках<s>ONE_GAME_DAY
ONE_GAME_WEEK<d>Неделя в тиках<s>ONE_GAME_WEEK
ONE_GAME_MONTH<d>Месяц в тиках<s>ONE_GAME_MONTH
<m->
<m+>Stats
STAT_st<d>Сила<s>STAT_st
STAT_pe<d>Восприятие<s>STAT_pe
STAT_en<d>Выносливость<s>STAT_en
STAT_ch<d>Харизма<s>STAT_ch
STAT_iq<d>Интеллект<s>STAT_iq
STAT_ag<d>Ловкость<s>STAT_ag
STAT_lu<d>Удача<s>STAT_lu
STAT_max_hit_points<d>Значение: (7)<s>STAT_max_hit_points
STAT_max_move_points<d>Значение: (8)<s>STAT_max_move_points
STAT_ac<d>Значение: (9)<s>STAT_ac
STAT_unarmed_dmg<d>Значение: (10)<s>STAT_unarmed_dmg
STAT_unused<d>Значение: (10)<s>STAT_unused
STAT_melee_dmg<d>Значение: (11)<s>STAT_melee_dmg
STAT_carry_amt<d>Значение: (12)<s>STAT_carry_amt
STAT_sequence<d>Значение: (13)<s>STAT_sequence
STAT_heal_rate<d>Значение: (14)<s>STAT_heal_rate
STAT_crit_chance<d>Значение: (15)<s>STAT_crit_chance
STAT_better_crit<d>Значение: (16)<s>STAT_better_crit
STAT_dmg_thresh<d>Значение: (17)<s>STAT_dmg_thresh
STAT_dmg_thresh_laser<d>Значение: (18)<s>STAT_dmg_thresh_laser
STAT_dmg_thresh_fire<d>Значение: (19)<s>STAT_dmg_thresh_fire
STAT_dmg_thresh_plasma<d>Значение: (20)<s>STAT_dmg_thresh_plasma
STAT_dmg_thresh_electrical<d>Значение: (21)<s>STAT_dmg_thresh_electrical
STAT_dmg_thresh_emp<d>Значение: (22)<s>STAT_dmg_thresh_emp
STAT_dmg_thresh_explosion<d>Значение: (23)<s>STAT_dmg_thresh_explosion
STAT_dmg_resist<d>Значение: (24)<s>STAT_dmg_resist
STAT_dmg_resist_laser<d>Значение: (25)<s>STAT_dmg_resist_laser
STAT_dmg_resist_fire<d>Значение: (26)<s>STAT_dmg_resist_fire
STAT_dmg_resist_plasma<d>Значение: (27)<s>STAT_dmg_resist_plasma
STAT_dmg_resist_electrical<d>Значение: (28)<s>STAT_dmg_resist_electrical
STAT_dmg_resist_emp<d>Значение: (29)<s>STAT_dmg_resist_emp
STAT_dmg_resist_explosion<d>Значение: (30)<s>STAT_dmg_resist_explosion
STAT_rad_resist<d>Значение: (31)<s>STAT_rad_resist
STAT_poison_resist<d>Значение: (32)<s>STAT_poison_resist
STAT_age<d>Значение: (33)<s>STAT_age
STAT_gender<d>Значение: (34)<s>STAT_gender
STAT_current_hp<d>Значение: (35)<s>STAT_current_hp
STAT_current_poison<d>Значение: (36)<s>STAT_current_poison
STAT_current_rad<d>Значение: (37)<s>STAT_current_rad
STAT_real_max_stat<d>Значение: (38)<s>STAT_real_max_stat
<m->
<m+>Типы объектов (define_extra.h)
<m+>Подтипы предметов
item_type_armor<d>Значение: 0<s>item_type_armor
item_type_container<d>Значение: 1<s>item_type_container
item_type_drug<d>Значение: 2<s>item_type_drug
item_type_weapon<d>Значение: 3<s>item_type_weapon
item_type_ammo<d>Значение: 4<s>item_type_ammo
item_type_misc_item<d>Значение: 5<s>item_type_misc_item
item_type_key_item<d>Значение: 6<s>item_type_key_item
<m->
OBJ_TYPE_ITEM<d>Значение: (0)<s>OBJ_TYPE_ITEM
OBJ_TYPE_CRITTER<d>Значение: (1)<s>OBJ_TYPE_CRITTER
OBJ_TYPE_SCENERY<d>Значение: (2)<s>OBJ_TYPE_SCENERY
OBJ_TYPE_WALL<d>Значение: (3)<s>OBJ_TYPE_WALL
OBJ_TYPE_TILE<d>Значение: (4)<s>OBJ_TYPE_TILE
OBJ_TYPE_MISC<d>Значение: (5)<s>OBJ_TYPE_MISC
OBJ_TYPE_SPATIAL<d>Значение: (6)<s>OBJ_TYPE_SPATIAL
<m->
<m+>Типы повреждений
DMG_normal_dam<d>Значение: 0<s>DMG_normal_dam
DMG_laser<d>Значение: 1<s>DMG_laser
DMG_fire<d>Значение: 2<s>DMG_fire
DMG_plasma<d>Значение: 3<s>DMG_plasma
DMG_electrical<d>Значение: 4<s>DMG_electrical
DMG_emp<d>Значение: 5<s>DMG_emp
DMG_explosion<d>Значение: 6<s>DMG_explosion
DMG_BYPASS_ARMOR<d>Значение: 256 (это BWOR указывает игнорировать броню при нанесении повреждений).<s>DMG_BYPASS_ARMOR
DMG_NOANIMATE<d>Значение: 512 (это BWOR указывает не проигрывать анимацию при нанесении повреждений).<s>DMG_NOANIMATE
<m->
<->
<m>Скриптовые функции
<m+>Общие функции скриптов
action_being_used<d>[int] Возвращает номер умения, используемого на объекте<s>action_being_used;<cr>
dude_obj<d>[ObjectPtr] Возвращает указатель на игрока<s>dude_obj
fixed_param<d>[int] Возвращает значение фиксированного параметра скриптов<s>fixed_param
obj_being_used_with<d>[ObjectPtr] Возвращает указатель на объект, используемый в данный момент на объекте, из скрипта которого вызывается<s>obj_being_used_with;<cr>
random<d>[int] Возвращает случайное число из диапазона min...max включительно<s>random({int min}, {int max})
scr_return<d>[void] Устанавливает возвращаемое скриптом значение для использования С-кодом движка<s>scr_return<cr>
script_action<d>[int] Возвращает действие, активировавшее этот скрипт<s>script_action
script_overrides<d>[void] Сообщает C-движку, что скрипт переопределяет стандартное поведение объекта<s>script_overrides;<cr>
self_obj<d>[ObjectPtr] Возвращает указатель на объект, в скрипте которого выполняется<s>self_obj
source_obj<d>[ObjectPtr] Возвращает указатель на объект, вызвавший обработчик<s>source_obj
target_obj<d>[ObjectPtr] Возвращает указатель на объект, над которым совершается действие<s>target_obj
<m->
<m+>Таймерные события
add_timer_event<d>[void] Добавить событие по таймеру<s>add_timer_event({ObjectPtr obj}, {int time}, {int info});<cr>
rm_timer_event<d>[void] Очищает все события по таймеру, "подвешенные" на данный объект<s>rm_timer_event({ObjectPtr who});<cr>
rm_fixed_timer_event<d>[void] Очищает события по таймеру, "подвешенные" на заданный объект<s>rm_fixed_timer_event({ObjectPtr who}, {int fixed_val});<cr>
<m+>Макросы
flush_add_timer_event<d>[void] Очищает все события по таймеру, "подвешенные" на заданный объект, и добавляет к нему новое событие.<s>flush_add_timer_event({ObjectPtr who}, {int time},{int fixed_param});<cr>
flush_add_timer_event_sec<d>[void] Очищает все события по таймеру, "подвешенные" на заданный объект, и добавляет к нему новое событие в секундах.<s>flush_add_timer_event_sec({ObjectPtr who}, {int sec_time},{int fixed_param});<cr>
<m->
<m->
<m>Общие для всех объектов функции
<m+>Создание и удаление объектов
create_object_sid<d>[ObjectPtr] Создать объект<s>create_object_sid({int pid}, {int tile_num}, {int elev}, {int sid});<cr>
destroy_object<d>[int] Уничтожает объект<s>destroy_object({ObjectPtr obj});<cr>
destroy_mult_objs<d>[int] Уничтожает заданное количество экземпляров предмета<s>destroy_mult_objs({ObjectPtr item}, {int count});<cr>
<m->
<m+>Свойства (флаги) объектов
obj_is_locked<d>[Boolean] Проверяет, заперт ли данный объект<s>obj_is_locked({ObjectPtr what})
obj_is_open<d>[Boolean] Проверяет, открыт ли заданный объект<s>obj_is_open({ObjectPtr what})
obj_on_screen<d>[Boolean] Проверяет, видим ли объект на игровом экране<s>obj_on_screen({ObjectPtr what})
set_obj_visibility<d>[void] Устанавливает флаг видимости объекта<s>set_obj_visibility({ObjectPtr obj}, {boolean visibility});<cr>
obj_set_light_level<d>[void] Делает объект источником света<s>obj_set_light_level({ObjectPtr obj}, {int intensity}, {int distance});<cr>
<m->
<m+>Данные прототипа
obj_art_fid<d>[int] Возвращает идентификатор фрейма (FID) объекта<s>obj_art_fid({ObjectPtr obj})
obj_item_subtype<d>[int] Возвращает подтип предмета<s>obj_item_subtype({ObjectPtr obj})
obj_name<d>[string] Возвращает имя объекта<s>obj_name({ObjectPtr what})
obj_pid<d>[int] Возвращает идентификатор прототипа (pid) объекта<s>obj_pid({ObjectPtr obj})
obj_type<d>[int] возвращает тип объекта<s>obj_type({ObjectPtr obj})
proto_data<d>[int, string] Возвращает значение данных из прототипа объекта<s>proto_data({int pid}, {int data_member})
<m->
<m+>Использование
jam_lock<d>[void] Заклинивает объект, который становится невозможным вскрыть в течение примерно 24 игровых часов<s>jam_lock({ObjectPtr lockableObj});<cr>
obj_close<d>[void] Пытается закрыть объект<s>obj_close({ObjectPtr what});<cr>
obj_lock<d>[void] Пытается запереть объект<s>obj_lock({ObjectPtr what});<cr>
obj_open<d>[void] Пытается открыть объект<s>obj_open({ObjectPtr what});<cr>
obj_unlock<d>[void] Пытается отпереть объект<s>obj_unlock({ObjectPtr what});<cr>
use_obj<d>[ObjectPtr] Использовать объект<s>use_obj({ObjectPtr obj});<cr>
use_obj_on_obj<d>[void] Команда использовать объект item на объекте targetObj<s>use_obj_on_obj({ObjectPtr item}, {ObjectPtr targetObj});<cr>
<m->
<m+>Макросы
create_object<d>[ObjectPtr] Создать объект<s>create_object({int pid}, {int tile_num}, {int elev})
self_pid<d>[int] Возвращает pid объекта, в котором выполняется скрипт<s>self_pid
self_fid<d>[int] Возвращает FID объекта, в котором выполняется скрипт<s>self_fid
<m->
<m>Функции, специфичные для криттера
<m+>Статистика криттера
critter_add_trait<d>[int] Добавляет криттеру указанное свойство<s>critter_add_trait({ObjectPtr who}, {int trait_type}, {int trait}, {int amount});<cr>
critter_mod_skill<d>[void] Изменить значение скилла криттера<s>critter_mod_skill({ObjectPtr who}, {int skill}, {int amount});<cr>
critter_rm_trait<d>[void] Удалить трейт/перк<s>critter_rm_trait({ObjectPtr who}, {int trait_type}, {int trait}, {int amount});<cr>
critter_state<d>[int] Вернуть состояние объекта<s>critter_state({ObjectPtr who})
drug_influence<d>[Boolean] Проверяет, находится ли криттер под воздействием наркотиков<s>drug_influence({ObjectPtr who})
get_critter_stat<d>[int] Вернуть значение характеристики<s>get_critter_stat({ObjectPtr who}, {int stat})
get_pc_stat<d>[int] Возвращает значения характеристик игрока<s>get_pc_stat({int pcStat})
get_poison<d>[int] Вернуть уровень отравления криттера<s>get_poison({ObjectPtr who})
give_exp_points<d>[void] Прибавить очки опыта игроку<s>give_exp_points({int points});<cr>
has_skill<d>[int] Проверка уровня определённого умения<s>has_skill({ObjectPtr who}, {int skill})
has_trait<d>[int] Вернуть значение указанного свойства<s>has_trait({int trait_type}, {ObjectPtr who}, {int trait})
is_skill_tagged<d>[Boolean] Проверка, помечено ли заданное умение как tagged<s>is_skill_tagged({int skillNum})
player_kill_count<d>[int] Число убитых игроком криттеров<s>player_kill_count({int type})
set_critter_stat<d>[int] Задать значение характеристики<s>set_critter_stat({ObjectPtr who}, {int stat}, {int val});<cr>
<m->
<m+>Повреждения
critter_dmg<d>[void] Нанести криттеру заданный урон заданным способом<s>critter_dmg({ObjectPtr who}, {int dmg_amount}, {int dmg_type});<cr>
critter_heal<d>[void] Лечит/снимает заданное количество хитпойнтов<s>critter_heal({ObjectPtr who}, {int amount});<cr>
critter_injure<d>[void] Наносит криттеру повреждения (сломать ногу, сломать руку, ослепить, пропустить ход и т.д.)<s>critter_injure({ObjectPtr who}, {int how});<cr>
poison<d>[void] Изменить уровень отравления криттера<s>poison({ObjectPtr who}, {int amount});<cr>
radiation_dec<d>[void] Уменьшить облучение криттера<s>radiation_dec({ObjectPtr who}, {int amount});<cr>
radiation_inc<d>[void] Увеличить облучение криттера<s>radiation_inc({ObjectPtr who}, {int amount});<cr>
<m->
<m+>Свойства (флаги)
critter_is_fleeing<d>[Boolean] Проверяет, убегает ли криттер с поля боя<s>critter_is_fleeing({ObjectPtr who})
critter_set_flee_state<d>[void] Установить флаг FLEE (убегает с поля боя)<s>critter_set_flee_state({ObjectPtr who}, {boolean flee_on});<cr>
critter_stop_attacking<d>[void] Установить флаг, указывающий на то, что криттер не хочет продолжать бой<s>critter_stop_attacking({ObjectPtr who});<cr>
<m->
<m+>Макросы
critter_damage<d>[void] Нанести криттеру заданный урон<s>critter_damage({ObjectPtr who}, {int dmg_amount});<cr>
critter_skill_level<d>[int] Вернуть текущий уровень умения<s>critter_skill_level({ObjectPtr who}, {int skillNum})
critter_uninjure<d>[void] Снимает с криттера повреждения (сломать ногу, сломать руку и т.д.)<s>critter_uninjure({ObjectPtr who}, {int how});<cr>
obj_get_rot<d>[int] Возвращает направление взгляда (0...5)<s>obj_get_rot({ObjectPtr who})
obj_is_visible_flag<d>[Boolean] Проверяет, является ли объект видимым<s>obj_is_visible_flag({ObjectPtr what})
who_carry_amount<d>[int] Возвращает текущий вес объекта<s>who_carry_amount({ObjectPtr who})
critter_weight<d>[int] Возвращает максимальный подъемный вес для криттера<s>critter_weight({ObjectPtr who})
chem_use_level<d>[int] Возвращает уровень использованной химии криттером<s>chem_use_level({ObjectPtr who})
<m+>Статистика
self_name<d>[int] Возвращает имя объекта<s>self_name
self_gender<d>[int] Возвращает пол объекта<s>self_gender
self_strength<d>[int] Возвращает значение силы<s>self_strength
self_perception<d>[int] Возвращает значение восприятия<s>self_perception
self_endurance<d>[int] Возвращает значение выносливости<s>self_endurance
self_charisma<d>[int] Возвращает значение харизмы<s>self_charisma
self_iq<d>[int] Возвращает значение интеллекта<s>self_iq
self_agility<d>[int] Возвращает значение ловкости<s>self_agility
self_luck<d>[int] Возвращает значение удачи<s>self_luck
self_cur_hits<d>[int] Возвращает текущее количество жизней<s>self_cur_hits
self_max_hits<d>[int] Возвращает максимальное количество жизней<s>self_max_hits
self_is_poisoned<d>[int] Проверяет или возвращает уровень отравления объекта<s>self_is_poisoned
self_team<d>[int] Возвращает номер команды, в которой находится криттер<s>
self_ai<d>[int] Возвращает номер AI криттера<s>self_ai
dude_strength<d>[int] Возвращает значение силы игрока<s>dude_strength
dude_perception<d>[int] Возвращает значение мудрости игрока<s>dude_perception
dude_endurance<d>[int] Возвращает значение выносливости игрока<s>dude_endurance
dude_charisma<d>[int] Возвращает значение харизмы игрока<s>dude_charisma
dude_iq<d>[int] Возвращает значение интеллекта игрока<s>dude_iq
dude_agility<d>[int] Возвращает значение ловкости игрока<s>dude_agility
dude_luck<d>[int] Возвращает значение удачливости игрока<s>dude_luck
dude_name<d>[string] Возвращает имя игрока<s>dude_name
dude_gender<d>[int] Возвращает значение пола игрока<s>dude_gender
dude_age<d>[int] Возвращает возраст игрока<s>dude_age
dude_weight<d>[int] Возвращает максимальный подъемный вес для игрока<s>dude_weight
dude_level<d>[int] Возвращает уровень игрока<s>dude_level
dude_cur_hits<d>[int] Возвращает текущие очки жизней игрока<s>dude_cur_hits
dude_max_hits<d>[int] Возвращает максимальное количество очков жизней игрока<s>dude_max_hits
dude_is_poisoned<d>[int] Проверяет или возвращает уровень отравления игрока<s>dude_is_poisoned
dude_is_irradiated<d>[int] Проверяет или возвращает уровень радиоактивного облучения игрока<s>dude_is_irradiated
<m->
<m->
<m+>Макросы проверки условий
critter_is_male<d>[Boolean] Проверяет является ли криттер мужского пола<s>critter_is_male
critter_is_female<d>[Boolean] Проверяет является ли криттер женского пола<s>critter_is_female
self_is_male<d>[Boolean] Проверяет объект на мужской пол<s>self_is_male
self_is_female<d>[Boolean] Проверяет объект на женcrbq пол<s>self_is_female
self_is_high<d>[Boolean] Проверяет находится ли объект под воздействием наркотических средств<s>self_is_high
dude_is_male<d>[Boolean] Проверяет игрока на мужской пол<s>dude_is_male
dude_is_female<d>[Boolean] Проверяет игрока на женский пол<s>dude_is_female
dude_is_addict<d>[Boolean] Проверяет имеет ли игрок треит Drug_Addict<s>dude_is_addict
dude_is_high<d>[Boolean] Проверяет находится ли игрок под воздействием наркотических средств<s>dude_is_high
dude_is_pornstar<d>[Boolean] Проверяет является игрок порно-звездой<s>dude_is_pornstar
dude_is_stupid<d>[Boolean] Проверяет интеллект игрока, меньше или равен трем<s>dude_is_stupid
dude_is_sneaking<d>[Boolean] Проверяет игрока на использование умения [Скрытности]<s>dude_is_sneaking
dude_is_crippled<d>[Boolean] Проверяет игрока на наличие поврежденных конечностей<s>dude_is_crippled
dude_is_walking<d>[Boolean] Проверяет анимацию игрока, True если игрок Идет<s>dude_is_walking
dude_is_running<d>[Boolean] Проверяет анимацию игрока, True если игрок Бежит<s>dude_is_running
<m->
<m>Инвентарь
<m+>Добавл./удал./перемещ.
add_mult_objs_to_inven<d>[void] Добавить несколько единиц заданного предмета в инвентарь<s>add_mult_objs_to_inven({ObjectPtr who}, {ObjectPtr item}, {int count});<cr>
add_obj_to_inven<d>[void] Добавить предмет в инвентарь объекта<s>add_obj_to_inven({ObjectPtr who}, {ObjectPtr item});<cr>
item_caps_adjust<d>[int] Изменяет количество денег у объекта<s>item_caps_adjust({ObjectPtr obj}, {int amount});<cr>
move_obj_inven_to_obj<d>[void] Перемещает инвентарь объекта srcObj в инвентарь объекта destObj<s>move_obj_inven_to_obj({ObjectPtr srcObj}, {ObjectPtr destObj});<cr>
rm_mult_objs_from_inven<d>[int] Удаляет несколько экземпляров заданного объекта из инвентаря другого объекта<s>rm_mult_objs_from_inven({ObjectPtr who}, {ObjectPtr obj}, {int count});<cr>
rm_obj_from_inven<d>[void] Удаляёт объект из инвентаря другого объекта<s>rm_obj_from_inven({ObjectPtr who}, {ObjectPtr obj});<cr>
<m->
<m+>Статистика/адреса
critter_inven_obj<d>[ObjectPtr,int] Возвращает указатель на объект в слоте инвентаря или общее число объектов в инвентаре<s>critter_inven_obj({ObjectPtr who}, {int where})
inven_cmds<d>[ObjectPtr] Возвращает указатель на объект в инвентаре<s>inven_cmds({ObjectPtr what}, {int inven_cmd}, {int slotNum})
item_caps_total<d>[int] Возвращает текущее количество денег в инвентаре объекта<s>item_caps_total({ObjectPtr obj})
obj_carrying_pid_obj<d>[ObjectPtr] Возвращает указатель на объект с pid, который находится у объекта who<s>obj_carrying_pid_obj({ObjectPtr who}, {int pid})
obj_is_carrying_obj_pid<d>[int] Возвращает количество объектов с pid, находящихся в инвентаре объекта obj<s>obj_is_carrying_obj_pid({ObjectPtr obj}, {int pid})
<m->
<m+>Операции с предметами
drop_obj<d>[void] Приказ криттеру, в скрипте которого выполняется данная функция, сбросить предмет на землю<s>drop_obj({ObjectPtr obj});<cr>
inven_unwield<d>[void] Команда криттеру убрать любые оружие/предметы из обеих рук<s>inven_unwield({ObjectPtr who});<cr>
obj_drop_everything<d>[void] Команда криттеру выбросить все предметы из инвентаря себе под ноги<s>obj_drop_everything({ObjectPtr who});<cr>
pickup_obj<d>[void] Криттер, в скрипте которого вызвана данная функция, поднимает с земли указанный объект<s>pickup_obj({ObjectPtr obj});<cr>
wield_obj_critter<d>[void] Экипирует криттера who объектом obj<s>wield_obj_critter({ObjectPtr who}, {ObjectPtr obj});<cr>
<m->
<m+>Макросы
inven_count<d>[int] Возвращает количество предметов в инвентаре объекта<s>inven_count({ObjectPtr what})
inven_ptr<d>[void] Возвращает указатель на объект в заданном слоте<s>inven_ptr({ObjectPtr what}, {int slotNum});<cr>
wield_obj<d>[void] Вооружает криттера, в скрипте которого вызвана, объектом obj<s>wield_obj({ObjectPtr obj});<cr>
self_caps<d>[int] Возвращает количество денег в инвентаре объекта<s>self_caps
self_item<d>[ObjectPtr] Возвращает указатель на объект с идентификатором прототипа pid, находящийся объекта<s>self_item({int pid})
self_item_count<d>[int] Возвращает количество объектов с идентификатором прототипа pid, находящиеся в инвентаре объекта<s>self_item_count({int pid})
dude_caps<d>[int] Возвращает текущее количество денег в инвентаре игрока<s>dude_caps
dude_item<d>[ObjectPtr] Возвращает указатель на объект с идентификатором прототипа pid, который находится в инвентаре игрока<s>dude_item({int pid})
dude_item_count<d>[int] Возвращает количество объектов с идентификатором прототипа pid, находящихся в инвентаре игрока<s>dude_item_count({int pid})
critter_is_armed<d>[Boolean] Проверяет слоты оружия криттера, на наличие установленного в нем оружия<s>critter_is_armed({ObjectPtr who})
critter_wearing_armor<d>[Boolean] Проверяет криттер на наличие установленной брони в слоте<s>critter_wearing_armor({ObjectPtr who})
dude_is_armed<d>[Boolean] Проверяет слоты оружия игрока, на наличие установленного в нем оружия<s>dude_is_armed
dude_wearing_armor<d>[Boolean] Проверяет игрока на наличие установленной брони в слоте<s>dude_wearing_armor
<m+>Проверка на предметы
dude_wielding_knife<d>[Boolean] Проверяет слоты оружия у игрока на наличие предметов относящихся к стандартным ножам<s>dude_wielding_knife
dude_wearing_leather_armor<d>[Boolean] Проверяет слот, на наличие у игрока брони (Тип LEATHER)<s>dude_wearing_leather_armor
dude_wearing_combat_armor<d>[Boolean] Проверяет слот, на наличие у игрока брони (Тип COMBAT)<s>dude_wearing_combat_armor
dude_wearing_metal_armor<d>[Boolean] Проверяет слот, на наличие у игрока брони (Тип METAL)<s>dude_wearing_metal_armor
dude_wearing_power_armor<d>[Boolean] Проверяет слот, на наличие у игрока брони (Тип POWER)<s>dude_wearing_power_armor
<m->
<m>Случайные проверки
do_check<d>[int] Выполняет случайную проверку ("бросок кубика") на основные характеристики криттера<s>do_check({ObjectPtr who}, {int check}, {int modifier})
how_much<d>[int] Возвращает оценку результата случайной проверки ("броска кубика")<s>how_much({int val})
is_critical<d>[Boolean] Проверяет, является ли результат случайной проверки ("броска кубика") критическим<s>is_critical({int val})
is_success<d>[Boolean] Проверяет, является ли результат случайной проверки ("броска кубика") успешным<s>is_success(int val)
roll_vs_skill<d>[int] Выполняет случайную проверку ("бросок кубика") на умения<s>roll_vs_skill({ObjectPtr who}, {int skill}, {int modifier})
using_skill<d>[Boolean] Проверка на использование активного умения<s>using_skill({ObjectPtr who}, {int skill})
<m+>Макросы
skill_success<d>[Boolean] Проверяет, является ли результат проверки на умение успешным<s>skill_success({ObjectPtr who},{int skill},{int modifier})
stat_success<d>[Boolean] Проверяет, является ли результат проверки на характеристики успешным<s>stat_success({ObjectPtr who},{int stat},{int modifier})
<m->
<m>Карта местности
<m+>Расположение объектов на карте
critter_attempt_placement<d>[int] Расположить криттера на заданной позиции<s>critter_attempt_placement({ObjectPtr who}, {int hex}, {int elev});<cr>
elevation<d>[int] Возвращает уровень (этаж), на котором находится заданный объект<s>elevation({ObjectPtr obj})
move_to<d>[int] Переместить объект<s>move_to({ObjectPtr obj}, {int tile_num}, {int elev});<cr>
obj_can_hear_obj<d>[Boolean] Проверка, может ли один объект слышать другой<s>obj_can_hear_obj({ObjectPtr src_obj}, {ObjectPtr dst_obj})
obj_can_see_obj<d>[Boolean] Проверка, может ли один объект видеть другой<s>obj_can_see_obj({ObjectPtr src_obj}, {ObjectPtr dst_obj})
rotation_to_tile<d>[int] Направление к гексу destTile от гекса srcTile<s>rotation_to_tile({int srcTile}, {int destTile})
tile_contains_obj_pid<d>[Boolean] Проверка, содержит ли заданный гекс объект с заданным PID<s>tile_contains_obj_pid({int tile}, {int elev}, {int pid})
tile_contains_pid_obj<d>[ObjectPtr] Возвращает указатель на первый объект, находящийся на заданном гексе<s>tile_contains_pid_obj({int tile}, {int elev}, {int pid})
tile_distance<d>[int] Возвращает расстояние между двумя гексами<s>tile_distance({int tile1}, {int tile2})
tile_distance_objs<d>[int] Возвращает расстояние между двумя объектами<s>tile_distance_objs({ObjectPtr obj1}, {ObjectPtr obj2})
tile_in_tile_rect<d>[Boolean] Проверяет принадлежность точки (гекса) прямоугольнику<s>tile_in_tile_rect({int tileLeft}, {int tileTop}, {int tileBottom}, {int tileRight}, {int tile})
tile_num<d>[int] Возвращает номер гекса, на котором находится объект<s>tile_num({ObjectPtr obj})
tile_num_in_direction<d>[int] Номер гекса, расположенного на заданном расстоянии, в заданном направлении от указанного гекса<s>tile_num_in_direction({int start_tile}, {int dir}, {int distance})
tile_get_next_critter<d>[ObjectPtr] Возвращает указатель на следующего криттера на заданном гексе<s>tile_get_next_critter({int tile_num}, {int elev}, {ObjectPtr last_critter})
<m->
<m+>Параметры карты
cur_map_index<d>[int] Индекс текущей карты<s>cur_map_index
cur_town<d>[int] Индекс текущего города<s>cur_town
days_since_visited<d>[int] Количество дней, прошедших с момента последнего посещения карты игроком<s>days_since_visited
is_loading_game<d>[Boolean] Проверка, загружается ли игра в данный момент<s>is_loading_game
load_map<d>[void] Загрузить заданную карту<s>load_map({string map_name}, {int start_location});<cr>
map_first_run<d>[Boolean] Проверка, запускается ли текущая карта в первый раз<s>map_first_run
map_is_known<d>[Boolean] Проверяет, известна ли карта с заданным индексом<s>map_is_known({int mapNum})
override_map_start<d>[void] Принудительно установить позицию игрока при загрузке карты<s>override_map_start({int x}, {int y}, {int elev}, {int rot});<cr>
set_exit_grids<d>[void] Указать параметры для всех точек выхода на заданном уровне загруженной карты<s>set_exit_grids({int markElev}, {int mapID}, {int elevation}, {int tileNum}, {int rotation});<cr>
set_light_level<d>[void] Задать уровень освещённости карты<s>set_light_level({int level});<cr>
set_map_music<d>[void] Устанавливает фоновую музыку для указанной карты<s>set_map_music({int MapIndex}, {string sfxFileName});<cr>
set_map_start<d>[void] Принудительно установить позицию игрока при следующей загрузке карты<s>set_map_start({int x}, {int y}, {int elev}, {int rot});<cr>
tile_is_visible<d>[Boolean] Проверка, видим ли указанный гекс<s>tile_is_visible({int tile})
tile_set_center<d>[void] Центрировать экран на заданном гексе<s>tile_set_center({int tileNum});<cr>
town_known<d>[Boolean] Показывает, открыт ли указанный город на глобальной карте<s>town_known({int townArea})
mark_map_entrance_state<d>[int] Задать состояние входа на карту (выкл/вкл) для всех уровней<s>mark_map_entrance_state({int map_idx}, {int state});<cr>
mark_map_entrance_elev_state<d>[int] Задать состояние входа на карту (выкл/вкл) для указанного уровня<s>mark_map_entrance_elev_state({int map_idx}, {int elev}, {int state});<cr>
<m->
<m+>Машина
car_current_town<d>[int] Возвращает номер города, на которой находится машина<s>car_current_town
car_give_to_party<d>[int] Команда поместить игрока и партийцев в машину и открыть карту мира<s>car_give_to_party;<cr>
car_give_gas<d>[int] Заправить машину заданным количеством топлива<s>car_give_gas(int amount);<cr>
set_car_carry_amount<d>[int] Задать максимальный вес груза для машины<s>set_car_carry_amount({int amount});<cr>
car_carry_amount<d>[int] Возвращает максимальный вес груза для машины<s>car_carry_amount
car_out_of_fuel<d>[Boolean] Проверяет, заправлена ли машина топливом<s>car_out_of_fuel
dude_has_car<d>[Boolean] Проверяет, имеет ли игрок машину<s>dude_has_car
<m->
<m+>Специальные операции с объектами на карте
kill_critter<d>[void] Убить криттера и определить изображение останков<s>kill_critter({ObjectPtr obj}, {int death_frame});<cr>
kill_critter_type<d>[void] Убивает всех криттеров с заданным PID и определяет изображение останков<s>kill_critter_type({int pid}, {int death_frame});<cr>
<m->
<m+>Макросы
override_map_start_hex<d>[void] Принудительно установить позицию игрока при загрузке карты<s>override_map_start_hex({int tile_num}, {int elev}, {int rot});<cr>
map_get_load_area<d>[int] Возвращает номер загружаемой карты города<s>map_get_load_area
tile_behind_obj<d>[int] Возвращает номер гекса позади криттера<s>tile_behind_obj({ObjectPtr who})
tile_behind_obj_rng<d>[int] Возвращает номер гекса позади криттера, на определенной дистанции<s>tile_behind_obj_rng({ObjectPtr who}, {int val})
self_cur_rot<d>[int] Возвращает направление взгляда (0...5) объекта<s>self_cur_rot
self_inv_rot<d>[int] Возвращает инвертированное направление взгляда (0...5) объекта<s>self_inv_rot
self_tile<d>[int] Возвращает тайл на котором находится объект<s>self_tile
self_elevation<d>[int] Возвращает уровень на котором находится объект<s>self_elevation
self_visible<d>[Boolean] Проверяет, является ли объект видимым<s>self_visible
self_can_see_dude<d>[Boolean] Проверяет видит ли криттер, игрока<s>self_can_see_dude
self_distance_from_dude<d>[int] Возвращает расстояние между игроком и криттером<s>self_distance_from_dude
dude_cur_rot<d>[int] Возвращает направление взгляда игрока (0...5)<s>dude_cur_rot
dude_inv_rot<d>[int] Возвращает инвертированное направление взгляда игрока<s>dude_inv_rot
dude_tile<d>[int] Возвращает номер гекса, на котором находится игрок<s>dude_tile
dude_elevation<d>[int] Возвращает уровень, на котором находится игрок<s>dude_elevation
dude_can_see_self<d>[Boolean] Проверяет видит ли игрок объект, в скрипте которого выполняется<s>dude_can_see_self
<m->
<m>Карта мира
<m+>Мировые координаты
mark_world_subtile_visited<d>[void] Пометить тайл карты мира как посещённый<s>mark_world_subtile_visited({int xPos}, {int yPos}, {int radius});<cr>
wm_area_set_pos<d>[void] Задать мировые координаты для указанного города<s>wm_area_set_pos({int areaIdx}, {int xPos}, {int yPos});<cr>
wm_get_subtile_state<d>[int] Состояние тайла карты мира<s>wm_get_subtile_state({int xPos},{int yPos})
worldmap_xpos<d>[int] Возвращает координату x текущего местоположения на карте мира<s>worldmap_xpos
worldmap_ypos<d>[int] Возвращает координату y текущего местоположения на карте мира<s>worldmap_ypos
<m->
<m+>Города на карте мира
mark_area_known<d>[void] Установить статус локации<s>mark_area_known({int mark_type}, {int area}, {int mark_state});<cr>
<m->
<m+>Переходы город/мир
town_map<d>[void] Запрос на переход к карте города<s>town_map;<cr>
world_map<d>[void] Запрос на переход к карте мира<s>world_map;<cr>
<m->
<m+>Макросы
mark_on_map<d>[void] Пометить город на карте<s>mark_on_map({int area});<cr>
unmark_on_map<d>[void] Не помечать город на карте<s>unmark_on_map({int area});<cr>
<m->
<m>Боевой режим
attack<d>[void] Заставляет криттера, в скрипте которого вызвана, атаковать указанный объект<s>attack({ObjectPtr who});<cr>
attack_complex<d>[void] Заставляет криттера, в скрипте которого вызвана, атаковать указанный объект с различными модификаторами<s>attack_complex({ObjectPtr who}, {int called_shot}, {int num_attacks}, {int bonus}, {int min_damage}, {int max_damage}, {int attacker_results}, {int target_results});<cr>
attack_setup<d>[void] Заставляет указанного криттера напасть на другого<s>attack_setup({ObjectPtr who}, {ObjectPtr victim});<cr>
combat_is_initialized<d>[Boolean] Проверка режима боя<s>combat_is_initialized
terminate_combat<d>[void] Команда боевой системе остановить бой<s>terminate_combat;<cr>
<m+>Макросы
self_attack_dude<d>[void] Заставляет криттера атаковать игрока, или убегать в зависимости от состояния флага FLEE<s>self_attack_dude;
<m->
<m>Текст. сообщ./диалог/бартер
<m+>Текстовые сообщения
message_str<d>[string] Возвращает строку сообщения по номеру файла<s>message_str({int msg_list}, {int msg_num})
display_msg<d>[void] Выводит сообщение на информационный экран<s>display_msg({string message});<cr>
float_msg<d>[void] Создать "плавающее" сообщение (над криттером)<s>float_msg({ObjectPtr who}, {string msg}, {int type});<cr>
debug_msg<d>[void] Выводит в окно сообщений отладочное сообщение<s>debug_msg({string text});<cr>
<m->
<m+>Режим диалога
dialogue_reaction<d>[void] Анимирует эмоциональную реакцию в диалоге<s>dialogue_reaction({int mood});<cr>
dialogue_system_enter<d>[void] Принудительный вызов диалоговой системы<s>dialogue_system_enter;<cr>
end_dialogue<d>[void] Завершить диалог<s>end_dialogue;<cr>
giq_option<d>[void] Вывести вариант ответа в диалоге<s>giq_option({int iq_test}, {int msg_list}, {int msg_num}, {procedure target}, {int reaction});<cr>
gsay_message<d>[void] Выводит реплику NPC, не подразумевающую никакого ответа со стороны игрока<s>gsay_message({int msg_list}, {int msg_num}, {int reaction});<cr>
gsay_option<d>[void] Вывести вариант ответа в диалоге без проверки интеллекта<s>gsay_option({int msg_list}, {int msg_num}, {procedure target}, {int reaction});<cr>
gsay_reply<d>[void] Выводит реплику НПС<s>gsay_reply({int msg_list}, {int msg_num});<cr>
start_gdialog<d>[void] Начать диалог<s>start_gdialog({int msgFileNum}, {ObjectPtr who}, {int mood}, {int headNum}, {int backgroundIdx});<cr>
gsay_start<d>[void] Ставится перед вызовом функции начинающей диалог<s>gsay_start;<cr>
gsay_end<d>[void] Ставится после вызова функции начинающей диалог<s>gsay_end;<cr>
<m->
<m+>Режим бартера
gdialog_mod_barter<d>[void] Вход в режим бартера с заданным модификатором<s>gdialog_mod_barter({int modifier});<cr>
gdialog_set_barter_mod<d>[void] Устанавливает текущее значение модификатора бартера<s>gdialog_set_barter_mod({int mod});<cr>
critter_can_barter<d>[Boolean] Проверка на возможность торговать с криттером<s>critter_can_barter({ObjectPtr who})
<m->
<m+>Макросы
mstr<d>[string] Возвращает строку сообщения из заранее определённого файла<s>mstr({int msg_num})
display_mstr<d>[void] Выводит сообщение на информационный экран<s>display_mstr({int msg_num});<cr>
g_mstr<d>[string] Возвращает строку сообщения из файла типовых сообщений<s>g_mstr({int msg_num})
display_g_mstr<d>[void] Выводит сообщение на информационный экран, из файла типовых сообщений<s>display_g_mstr({int msg_num});<cr>
display_mstr_rand<d>[void] Выводит случайное сообщение из диапазона (min,max) на информационный экран, из заранее определенного файла<s>display_mstr_rand({int msg_num_min},{int msg_num_max});<cr>
floater<d>[void] Создаёт "плавающее" сообщение над объектом, в скрипте которого вызвана<s>floater({int msg_num});<cr>
floater_rand<d>[void] Создаёт случайное "плавающее" сообщение над объектом, в скрипте которого вызвана<s>floater_rand({int min_msg_num}, {int max_msg_num});<cr>
gen_floater<d>[void] Вывод стандартного "плавающего" сообщения<s>gen_floater({ObjectPtr who}, {int msg_num});<cr>
dude_floater<d>[void] Создает "плавающее" сообщении над игроком<s>dude_floater({int msg_num});<cr>
dude_floater_rand<d>[void] Создает случайное "плавающее" сообщении над игроком<s>dude_floater_rand({int msg_num_min},{int msg_num_max});<cr>
dude_floater_type<d>[void] Создает "плавающее" сообщении с заданным цветом(type) над игроком<s>dude_floater_type({int msg_num},{int type});<cr>
self_floater_type<d>[void] Создает "плавающее" сообщении с заданным цветом(type) над объектом, в котором выполняется скрипт<s>self_floater_type({int msg_num},{int type});<cr>
GOption<d>[void] Вывести вариант ответа с положительной эмоц. реакцией<s>GOption({int msg_num}, {procedure target}, {int iq_test});<cr>
NOption<d>[void] Вывести вариант ответа с нейтральной эмоц. реакцией<s>NOption({int msg_num}, {procedure target}, {int iq_test});<cr>
BOption<d>[void] Вывести вариант ответа с отрицательной эмоц. реакцией<s>BOption({int msg_num}, {procedure target}, {int iq_test});<cr>
GLowOption<d>[void] Вывести вар. ответа с положительной эмоц. реакцией для персонажа с низким инт.<s>GLowOption({int msg_num}, {procedure target});<cr>
NLowOption<d>[void] Вывести вар. ответа с нейтральной эмоц. реакцией для персонажа с низким инт.<s>NLowOption({int msg_num}, {procedure target});<cr>
BLowOption<d>[void] Вывести вар. ответа с отрицательной эмоц. реакцией для персонажа с низким инт.<s>BLowOption({int msg_num}, {procedure target});<cr>
GMessage<d>[void] Выводит реплику NPC с положительной эмоц. реакцией, не треб. ответа со стороны игрока<s>GMessage({int msg_num});<cr>
NMessage<d>[void] Выводит реплику NPC с нейтральной эмоц. реакцией, не треб. ответа со стороны игрока<s>NMessage({int msg_num});<cr>
BMessage<d>[void] Выводит реплику NPC с отрицательной эмоц. реакцией, не треб. ответа со стороны игрока<s>BMessage({int msg_num});<cr>
Reply<d>[void] Выводит реплику NPC из msg-файла скрипта в котором вызывается<s>Reply({int msg_num});<cr>
Reply_Rand <d>[void] Выводит случайную реплику НПС из заданного диапазона<s>Reply_Rand({int msg_num_start}, {int msg_num_end});<cr>
gdialog_barter<d>[void] Вход в режим бартера<s>gdialog_barter;<cr>
start_dialogue<d>[void] Начать диалог<s>start_dialogue({ObjectPtr who}, {int mood});<cr>
<m->
<m>Партийцы
party_add<d>[void] Присоединяет партийца к игроку<s>party_add({ObjectPtr who});<cr>
party_member_obj<d>[ObjectPtr] Возвращает указатель на партийца по PID<s>party_member_obj({int pid});<cr>
party_member_count<d>[int] Возвращает количество партийцев в команде игрока<s>party_member_count({int countHidden})
party_remove<d>[void] Отсоединяет партийца от игрока<s>party_remove({ObjectPtr who});<cr>
<m>Глобальные события и свойства
<m+>Интерфейс пользователя
game_ui_disable<d>[void] Блокировать пользовательский интерфейс (управление)<s>game_ui_disable;<cr>
game_ui_enable<d>[void] Разблокировать пользовательский интерфейс (управление)<s>game_ui_enable;<cr>
game_ui_is_disabled<d>[Boolean] Проверка состояния пользовательского интерфейса<s>game_ui_is_disabled
<m->
<m+>Видеоролики
endgame_movie<d>[void] Проиграть финальный ролик<s>endgame_movie;<cr>
endgame_slideshow<d>[void] Проиграть финальное слайдшоу<s>endgame_slideshow;<cr>
play_gmovie<d>[void] Проиграть видеоролик<s>play_gmovie({int movieNum});<cr>
<m->
<m+>Гашение/восстановление экрана
gfade_in<d>[void] Восстановление экрана после гашения<s>gfade_in(1);<cr>
gfade_out<d>[void] Гашение экрана<s>gfade_out(1);<cr>
<m->
<m+>Глобальные правила
metarule<d>[int] Функция для работы со множеством игровых параметров игры<s>metarule({int meta_switch}, {int meta_par})
metarule3<d>[int] Ещё одна функция работы с множеством параметров игры<s>metarule3({int meta3_switch}, {int meta3_par1}, {int meta3_par2}, {int meta3_par3})
<m->
<m+>Настройки игры
combat_difficulty<d>[int] Возвращает значение сложности боя, заданное в настройках игры<s>combat_difficulty
difficulty_level<d>[int] Возвращает значение сложности игры, заданное в настройках<s>difficulty_level
language_filter_is_on<d>[Boolean] Проверка фильтра мата<s>language_filter_is_on
violence_filter_setting<d>[int] Текущий уровень насилия<s>violence_filter_setting
running_burning_guy<d>[int] Возвращает значение running-burning-guy, установленное в настройках игры<s>running_burning_guy
<m->
<m+>Макросы
elevator<d>[void] Вызывает окно лифта с заданным ID<s>elevator;<cr>
signal_end_game<d>[void] Сигнал системе завершить игру<s>signal_end_game;<cr>
weapon_dmg_type<d>[int] Возвращает тип повреждений, нанесенных указанным оружием<s>weapon_dmg_type({ObjectPtr weapon})
critter_kill_type<d>[int] Возвращает тип криттера по видам убитых<s>critter_kill_type({ObjectPtr who})
art_change_fid_num<d>[int] Изменить базовый номер FID (идентификатора фрейма)<s>art_change_fid_num({ObjectPtr who}, {int fid});<cr>
<m->
<m>Игровое время
game_ticks<d>[int] Преобразование секунды -> тики<s>game_ticks({int seconds})
game_time<d>[int] Возвращает текущее игровое время (время, прошедшее от начала игры) в тиках<s>game_time
game_time_advance<d>[void] Увеличивает игровое время на заданное количество тиков<s>game_time_advance({int amount});<cr>
game_time_hour<d>[int] Возвращает текущее время в формате ЧЧММ<s>game_time_hour
game_time_in_seconds<d>[int] Возвращает время, прошедшее от начала игры в секундах<s>game_time_in_seconds
get_day<d>[int] Возвращает текущее число<s>get_day
get_month<d>[int] Возвращает текущий месяц <s>get_month
<m+>Макросы
game_time_advance_hour<d>[void] Увеличивает и устанавливает игровое время в формате HH:MM<s>game_time_advance_hour({HH:MM});<cr>
amt_time_has_passed<d>[int] Возвращает фактическое пройденное игровое время в тиках, в выбранных единицах времени(time_units)<s>amt_time_has_passed({old_time}, {time_unit})
GAME_TIME_IN_YEARS<d>[int] Возвращает время, прошедшее от начала игры в годах<s>GAME_TIME_IN_YEARS
GAME_TIME_IN_DAYS<d>[int] Возвращает время, прошедшее от начала игры в кол. дней<s>GAME_TIME_IN_DAYS
GAME_TIME_IN_HOURS<d>[int] Возвращает время, прошедшее от начала игры в часах<s>GAME_TIME_IN_HOURS
GAME_TIME_IN_MINUTES<d>[int] Возвращает время, прошедшее от начала игры в минутах<s>GAME_TIME_IN_MINUTES
one_second_passed<d>[boolean] Проверяет условие, прошла ли одна секунда от заданного времени<s>one_second_passed({old_time_tiks})
one_minute_passed<d>[boolean] Проверяет условие, прошла ли одна минута от заданного времени<s>one_minute_passed({old_time_tiks})
one_hour_passed<d>[boolean] Проверяет условие, прошел ли один час от заданного времени<s>one_hour_passed({old_time_tiks})
one_day_passed<d>[boolean] Проверяет условие, прошел ли один день от заданного времени<s>one_day_passed({old_time_tiks})
one_week_passed<d>[boolean] Проверяет условие, прошла ли одна неделя от заданного времени<s>one_week_passed({old_time_tiks})
one_month_passed<d>[boolean] Проверяет условие, прошел ли один месяц от заданного времени<s>one_month_passed({old_time_tiks})
<m->
<m>Анимация и звук
<m+>Общие функции
anim_action_frame<d>[int] Возвращает анимацию действия из заданной анимации объекта<s>anim_action_frame({ObjectPtr who}, {int frame});<cr>
anim_busy<d>[boolean] Проверка состояния анимации объекта<s>anim_busy({ObjectPtr who})
art_anim<d>[void] Возвращает номер анимации по заданному FID<s>art_anim({int fid});<cr>
<m->
<m+>Одиночные анимации
anim<d>[void] Воспроизводит заданную анимацию для заданного объекта в заданном направлении<s>anim({ObjectPtr who}, {int anim}, {int direction});<cr>
animate_move_obj_to_tile<d>[void] Анимация перемещения объекта на заданный гекс<s>animate_move_obj_to_tile({ObjectPtr who}, {int tile}, {int speed});<cr>
animate_stand_obj<d>[void] Воспроизводит анимацию с номером 0 для заданного объекта<s>animate_stand_obj({ObjectPtr obj});<cr>
animate_stand_reverse_obj<d>[void] Воспроизводит анимацию с номером 0 для заданного объекта задом наперёд<s>animate_stand_reverse_obj({ObjectPtr obj});<cr>
explosion<d>[void] Произвести взрыв<s>explosion({int where}, {int elevation}, {int damage});<cr>
<m->
<m+>Группы анимаций
reg_anim_animate<d>[void] Добавляет в очередь одиночную анимацию<s>reg_anim_animate({ObjectPtr what}, {int anim}, {int delay});<cr>
reg_anim_animate_forever<d>[void] Добавляет в очередь одиночную анимацию, которая будет выполняться "вечно"<s>reg_anim_animate_forever({ObjectPtr what}, {int anim}, {int delay});<cr>
reg_anim_animate_reverse<d>[void] Добавляет в очередь одиночную анимацию, которая будет проиграна задом наперёд<s>reg_anim_animate_reverse({ObjectPtr what}, {int anim}, {int delay});<cr>
reg_anim_func<d>[void] Работа со списком анимаций<s>reg_anim_func({int par1}, {int par2});<cr>
reg_anim_obj_move_to_obj<d>[void] Добавляет в очередь анимацию объекта, идущего к другому<s>reg_anim_obj_move_to_obj({ObjectPtr who}, {ObjectPtr dest_obj}, {int delay});<cr>
reg_anim_obj_run_to_obj<d>[void] Добавляет в очередь анимацию подбегания одного объекта к другому<s>reg_anim_obj_run_to_obj({ObjectPtr who}, {ObjectPtr dest_obj}, {int delay});<cr>
reg_anim_obj_move_to_tile<d>[void] Добавляет в очередь анимацию объекта, идущего к заданному гексу<s>reg_anim_obj_move_to_tile({ObjectPtr who}, {int dest_tile}, {int delay});<cr>
reg_anim_obj_run_to_tile<d>[void] Добавляет в очередь анимацию объекта, бегущего к заданному гексу<s>reg_anim_obj_run_to_tile({ObjectPtr who}, {int dest_tile}, {int delay});<cr>
<m->
<m+>Звук
play_sfx<d>[void] Проигрывает указанный звуковой эффект<s>play_sfx({string sfxFileName});<cr>
sfx_build_char_name<d>[string] Генерирует строку - имя файла acm, которая используется функцией reg_anim_play_sfx<s>sfx_build_char_name({ObjectPtr who}, {int anim_num}, {int gsound_character_extra});<cr>
sfx_build_weapon_name<d>[string] Генерирует строку - имя файла acm, которая используется функцией reg_anim_play_sfx<s>sfx_build_weapon_name({int gsound_sfx_weapon_action_type}, {ObjectPtr what}, {int hit_mode}, {ObjectPtr who});<cr>
reg_anim_play_sfx<d>[void] Добавляет в очередь проигрывание звукового эффекта<s>reg_anim_play_sfx({ObjectPtr who}, {string sfx_name}, {int delay});<cr>
<m->
<m+>Макросы
animate_move_to_tile<d>[void] Анимация "перейти на заданный гекс"<s>animate_move_to_tile({int tile});<cr>
animate_move_to_tile_force<d>[void] Анимация "перейти на заданный гекс" (текущая анимация при этом прерывается)<s>animate_move_to_tile_force({int tile});<cr>
animate_rotation<d>[void] Анимация смены направления взгляда<s>animate_rotation({int direction});<cr>
animate_run_to_tile<d>[void] Анимация бега на заданный гекс<s>animate_run_to_tile({int tile});<cr>
animate_run_to_tile_force<d>[void] Анимация бега на заданный гекс (текущая анимация при этом прерывается)<s>animate_run_to_tile_force({int tile});<cr>
animate_set_frame<d>[void] Заменить текущий кадр анимации на заданный<s>animate_set_frame({int newFrame});<cr>
animate_stand<d>[void] Воспроизводит анимацию с номером 0<s>animate_stand;<cr>
animate_stand_reverse<d>[void] Воспроизводит анимацию с номером 0 задом наперёд<s>animate_stand_reverse;<cr>
Face_Critter<d>[void] Развернуть объект 1 лицом к объекту 2<s>Face_Critter({ObjectPtr Obj1}, {ObjectPtr Obj2});<cr>
reg_anim_begin<d>[void] Начать формирование списка анимаций<s>reg_anim_begin;<cr>
reg_anim_clear<d>[void] Очистить список анимаций<s>reg_anim_clear({ObjectPtr object});<cr>
reg_anim_end<d>[void] Закончить формирование списка анимаций и начать выполнение заданной последовательности<s>reg_anim_end;<cr>
<m->
<m>Переменные игры
<m+>Глобальные переменные
global_var<d>[int] Возвращает значение заданной глобальной переменной<s>global_var({unsigned int var_index})
set_global_var<d>[void] Присвоить значение глобальной переменной<s>set_global_var({unsigned int var_index}, {int value});<cr>
<m->
<m+>Локальные переменные
local_var<d>[int] Возвращает значение заданной локальной переменной<s>local_var({unsigned int var_index})
set_local_var<d>[void] Присвоить значение локальной переменной<s>set_local_var({unsigned int var_index}, {int value});<cr>
<m->
<m+>Переменные карты
map_var<d>[int] Возвращает значение заданной переменной карты<s>map_var({unsigned int var_index})
set_map_var<d>[void] Присвоить значение переменной карты<s>set_map_var({unsigned int var_index}, {int value});<cr>
<m->
<m+>Макросы
inc_global_var_amt<d>[void] Увеличить значение глобальной переменной на число amt<s>inc_global_var_amt({int var_index}, {int amt});<cr>
inc_global_var<d>[void] Инкремент глобальной переменной<s>inc_global_var({int var_index});<cr>
dec_global_var_amt<d>[void] Уменьшить значение глобальной переменной на число amt<s>dec_global_var_amt({int var_index}, {int amt});<cr>
dec_global_var<d>[void] Декремент глобальной переменной<s>dec_global_var({int var_index});<cr>
inc_map_var_amt<d>[void] Увеличить значение переменной карты на число amt<s>inc_map_var_amt({int var_index}, {int amt});<cr>
inc_map_var<d>[void] Инкремент переменной карты<s>inc_map_var({int var_index});<cr>
dec_map_var_amt<d>[void] Уменьшить значение переменной карты на число amt<s>dec_map_var_amt({int var_index}, {int amt});<cr>
dec_map_var<d>[void] Декремент переменной карты<s>dec_map_var({int var_index});<cr>
inc_local_var_amt<d>[void] Увеличить значение локальной переменной на число amt<s>inc_local_var_amt({int var_index}, {int amt});<cr>
inc_local_var<d>[void] Инкремент локальной переменной<s>inc_local_var({int var_index});<cr>
dec_local_var_amt<d>[void] Уменьшить значение локальной переменной на число amt<s>dec_local_var_amt({int var_index}, {int amt});<cr>
dec_local_var<d>[void] Декремент локальной переменной<s>dec_local_var({int var_index});<cr>
<m->
<m+>Битовые операции (макросы)
gvar_bit<d>[int] Проверка состояния указанного бита глобальной переменной<s>gvar_bit({int var_index}, {int bit_num})
mvar_bit<d>[int] Проверка состояния указанного бита переменной карты<s>mvar_bit({int var_index}, {int bit_num})
lvar_bit<d>[int] Проверка состояния указанного бита локальной переменной скрипта<s>lvar_bit({int var_index}, {int bit_num})
INV<d>[int] Инверсия битовой маски<s>INV({int bit_num})
set_gvar_bit_on<d>[void] Установить указанный бит глобальной переменной<s>set_gvar_bit_on({int var_index}, {int bit_num});<cr>
set_mvar_bit_on<d>[void] Установить указанный бит переменной карты<s>set_mvar_bit_on({int var_index}, {int bit_num});<cr>
set_lvar_bit_on<d>[void] Установить указанный бит локальной переменной скрипта<s>set_lvar_bit_on({int var_index}, {int bit_num});<cr>
set_gvar_bit_off<d>[void] Сбросить указанный бит глобальной переменной<s>set_gvar_bit_off({int var_index}, {int bit_num});<cr>
set_mvar_bit_off<d>[void] Сбросить указанный бит переменной карты<s>set_mvar_bit_off({int var_index}, {int bit_num});<cr>
set_lvar_bit_off<d>[void] Сбросить указанный бит локальной переменной скрипта<s>set_lvar_bit_off({int var_index}, {int bit_num});<cr>
<m->
<m>Разное
give_xp<d>[void] Добавляет количество очков опыта игроку, с отображением сообщения в информационном окне<s>give_xp({int val});<cr>
Flee_From_Dude<d>Заставляет криттера в скрипте которого выполняется макрос убегать от Игрока.<s>Flee_From_Dude<cr>
Flee_From_Dude_Force<d>Заставляет криттера в скрипте которого выполняется макрос убегать от Игрока с прерыванием текущей анимации.<s>Flee_From_Dude_Force<cr>
Follow_Dude<d>Заставляет криттера следовать за Игроком если расстояние превысит значение X, Y-расстояние на котором должен держаться Криттер.<s>Follow_Dude({int X},{int Y})<cr>
Follow_Obj_Run_Only<d>Заставляет криттера бегать за объектом если расстояние превысит значение X, Y-расстояние на которое должен подбежать Криттер.<s>Follow_Obj_Run_Only({ObjectPtr},{int X},{int Y})<cr>
Get_In_Obj_Face<d>Заставляет криттера подойти к объекту, или развернуться к нему лицом.<s>Get_In_Obj_Face({ObjectPtr})<cr>
Get_In_Face_Run_Dist<d>Заставляет криттера добежать к объекту на определенное расстояние, или развернуться к нему лицом.<s>Get_In_Face_Run_Dist({ObjectPtr},{int Dist})<cr>
closest_clear_tile<d>Ищет свободный гекс по линии от указанного гекса по направлению к объекту, и записывает его в переменную Х.<s>closest_clear_tile({ObjectPtr}, {int Tile}, {var X})<cr>
Lighting<d>Установка освещения карты в зависимости от времени суток.<s>Lighting;<cr>
Check_Create_Car<d>Проверка и установка автомобиля на карту<s>Check_Create_Car({int HexNum}, {int MapElevation})<cr>
<->
<m>Интерфейсные функции
<m+>Окна
CreateWin<d>[void] Создать окно<s>CreateWin({string win_name}, {int x}, {int y}, {int width}, {int height});<cr>
DeleteWin<d>[void] Удалить указанное окно<s>DeleteWin({string win_name});<cr>
SelectWin<d>[void] Сделать активным указанное окна<s>SelectWin({string win_name});<cr>
ShowWin<d>[void] Вывести активное окно на экран<s>ShowWin;<cr>
ScaleWin<d>[void] Изменяет положение и размеры окна с масштабированием содержимого окна<s>ScaleWin({string win_name}, {int x}, {int y}, {int width}, {int height});<cr>
ResizeWin<d>[void] Изменяет положение и размеры окна с масштабированием содержимого окна<s>ResizeWin({string win_name}, {int x}, {int y}, {int width}, {int height});<cr>
<m->
<m+>Графика
LoadPaletteTable<d>[void] Загрузить глобальную палитру<s>LoadPaletteTable({string palfilename});<cr>
Display<d>[void] Вывести картинку pcx в активное окно<s>Display({string pcxfilename});<cr>
DisplayRaw<d>[void] Вывести картинку pcx в активное окно<s>DisplayRaw({string pcxfilename});<cr>
DisplayGFX<d>[void] Вывести картинку pcx в активное окно<s>DisplayGFX({string pcxfilename}, {int x}, {int y}, {int width}, {int height});<cr>
FillWin3x3<d>[void] Вывести картинку pcx в активное окно<s>FillWin3x3({string pcxfilename});<cr>
FillWin<d>[void] Залить активное окно указанным цветом<s>FillWin({int R}, {int G}, {int B});<cr>
FillRect<d>[void] Залить указанным цветом заданный прямоугольник<s>FillRect({int x}, {int y}, {int width}, {int height}, {int R}, {int G}, {int B});<cr>
<m->
<m+>Кнопки
AddButton<d>[void] Создать кнопку<s>AddButton({string btn_name}, {int x}, {int y}, {int width}, {int height});<cr>
DeleteButton<d>[void] Удалить кнопку<s>DeleteButton({string btn_name});<cr>
AddButtonGFX<d>[void] Привязать к кнопке графические изображения<s>AddButtonGFX({string btn_name}, {string downpcx}, {string uppcx}, {string overpcx});<cr>
AddButtonProc<d>[void] Связать с кнопкой процедуры для обработки событий<s>AddButtonProc({string btn_name}, {procedure button_on}, {procedure button_off}, {procedure button_press}, {procedure button_release});<cr>
AddButtonText<d>[void] Сделать на кнопке надпись<s>AddButtonText({string btn_name}, {string text});<cr>
<m->
<m+>Области
AddRegion<d>[void] Добавить произвольную область<s>AddRegion({string reg_name} {[,int x, int y, int x, int y, int x, int y, ...]});<cr>
DeleteRegion<d>[void] Удалить область<s>DeleteRegion({string reg_name});<cr>
AddRegionProc<d>[void] Связать с областью процедуры для обработки событий<s>AddRegionProc({string reg_name}, {procedure on}, {procedure off}, {procedure press}, {procedure release});<cr>
ActivateRegion<d>[void] Выполнить одну из связанных с областью процедур<s>ActivateRegion({string reg_name}, {int reg_proc});<cr>
<m->
<m+>Текст
GotoXY<d>[void] Устанавливает текущие координаты<s>GotoXY({int x}, {int y});<cr>
Print<d>[void] Выводит текст с текущими настройками на экран<s>Print({string text});<cr>
Format<d>[void] Вывести текст в указанную область<s>Format({string text}, {int x}, {int y}, {int width}, {int height}, {int attrib});<cr>
PrintRect<d>[void] Вывести текст в текущие координаты<s>PrintRect({string text}, {int width}, {int tab});<cr>
SetTextColor<d>[void] Устанавливает цвет текста<s>SetTextColor({int R}, {int G}, {int B});<cr>
SetHighlightColor<d>[void] Устанавливает цвет подсветки<s>SetHighlightColor({int R}, {int G}, {int B});<cr>
SetFont<d>[void] Задаёт шрифт<s>SetFont({int font});<cr>
SetTextFlags<d>[void] Задаёт различные флаги для текста<s>SetTextFlags({int flags});<cr>
<m->
<m+>Мышь
HideMouse<d>[void] Скрыть мышь<s>HideMouse;<cr>
ShowMouse<d>[void] Показать мышь<s>ShowMouse;<cr>
MouseShape<d>[void] Изменение формы курсора<s>MouseShape({sting pcxfilename}, {int x}, {int y});<cr>
<m->
<m+>События
AddNamedEvent<d>[void] Связать событие с процедурой-обработчиком<s>AddNamedEvent({string event_name}, {procedure callback_proc});<cr>
SignalNamed<d>[void] Вызвать событие<s>SignalNamed({string event_name});<cr>
ClearNamed<d>[void] Удалить указанное событие<s>ClearNamed({string event_name});<cr>
<m->
<m+>Звук
soundplay<d>[snd_handler] Проигрывает звуковой файл<s>soundplay({string file}, {int mode});<cr>
sounddelete<d>[void] Удалить (отключить) звук, созданный при помощи soundplay<s>sounddelete({snd_handler handler});<cr>
soundstop<d>[void] Остановить проигрывание звука, созданного при помощи soundplay<s>soundstop({snd_handler handler});<cr>
soundpause<d>[void] Пауза звука, созданного при помощи soundplay<s>soundpause({snd_handler handler});<cr>
soundresume<d>[void] Возобновить проигрывание звука, остановленного soundpause<s>soundresume({snd_handler handler});<cr>
soundrewind<d>[void] По-идее перемотка в начало, но эффект не наблюдается<s>soundrewind({snd_handler handler});<cr>
<m->
<m+>Say-режим
SayStart<d>[void] Вход в диалоговый режим<s>SayStart;<cr>
SayEnd<d>[void] Выход из диалогового режима<s>SayEnd;<cr>
SayQuit<d>[void] Установить флаг выхода из диалога<s>SayQuit;<cr>
SayGotoReply<d>[void] Перейти к указанной реплике NPC<s>SayGotoReply({string reply_name});<cr>
SayReply<d>[void] Вывести в окно реплик реплику NPC<s>SayReply({string reply_name}, {string reply_text});<cr>
SayOption<d>[void] Вывести вариант ответа в окно ответов игрока<s>SayOption({string option_text}, {string reply_name});<cr>
SayMessage<d>[void] Вывести в окно реплик сообщение, убираемое кликом<s>SayMessage({string message_title}, {string message_text});<cr>
<m+>Настройки say-режима
SayReplyWindow<d>[void] Задать параметры окна реплик NPC<s>SayReplyWindow({int x}, {int y}, {int width}, {int height}, {string pcxfilename});<cr>
SayOptionWindow<d>[void] Задать параметры окна ответов игрока<s>SayOptionWindow({int x}, {int y}, {int width}, {int height}, {string pcxfilename});<cr>
SayReplyTitle<d>[void] Задать заголовок окна реплик NPC<s>SayReplyTitle({string title});<cr>
SayBorder<d>[void] Задать отступы для выводимого текста<s>SayBorder({int x}, {int y});<cr>
SaySetSpacing<d>[void] Задать расстояние между строками вариантов ответов в окне ответов<s>SaySetSpacing({int spacing});<cr>
SayMessageTimeout<d>[void] Задержка в секундах для SayMessage<s>SayMessageTimeout({int delay});<cr>
SetHighlightColor<d>[void] Устанавливает цвет подсветки<s>SetHighlightColor({int R}, {int G}, {int B});<cr>
SayOptionColor<d>[void] Заливает окно ответов игрока указанным цветом<s>SayOptionColor({int R}, {int G}, {int B});<cr>
SayReplyColor<d>[void] Заливает окно реплик NPC указанным цветом<s>SayReplyColor({int R}, {int G}, {int B});<cr>
SayOptionFlags<d>[void] Флаги окна ответов игрока<s>SayOptionFlags({int flags});<cr>
SayReplyFlags<d>[void] Флаги окна реплик NPC<s>SayReplyFlags({int flags});<cr>
<m->
<m->
<m+>Клавиатура
AddKey<d>[void] Связать указанную клавишу с процедурой-обработчиком<s>AddKey({char key_code}, {procedure callback_proc});<cr>
DeleteKey<d>[void] Отменить связанную процедуру для указанной клавиши<s>DeleteKey({char key_code});<cr>
<m->
<m+>Разное
FadeIn<d>[void] Медленно восстановить экран<s>FadeIn({int delay});<cr>
FadeOut<d>[void] Медленно погасить экран<s>FadeOut({int delay});<cr>
SelectFileList<d>[string] Отобразить окно выбора файла<s>SelectFileList({string title}, {string mask});<cr>
<m->
<->
<m>Функции SFALL
<m+>Функции глобальных скриптов
Game_Loaded<d>[bool] Возвращает True когда скрипт выполняется в первый раз, так же при начале новый игры или загрузки игры.<s>game_loaded
Set_Global_Script_Repeat<d>[void] <s>set_global_script_repeat({int frames});<cr>
Set_Global_Script_Type<d>[void] <s>set_global_script_type({int type});<cr>
Available_Global_Script_Types<d>[int] <s>available_global_script_types
Set_Sfall_Global<d>[void] <s>set_sfall_global({string/int varname}, {int/float value});<cr>
Get_Sfall_Global_Int<d>[int] <s>get_sfall_global_int({string/int varname});<cr>
Get_Sfall_Global_Float<d>[float] <s>get_sfall_global_float({string/int varname});<cr>
Get_Game_Mode<d>[int] Возвращает набор флагов указывающих, в каком режиме игра находится в настоящее время. Это более гибкий вариант чем in_world_map<s>get_game_mode
Set_Self<d>[void] Переопределяет указатель на self_obj в функции. Действует при следующем вызова функций.<s>set_self({objptr});<cr>
Typeof<d>[int] <s>typeof({any value})
Init_Hook<d>[int] <s>init_hook
Register_Hook<d>[void] <s>register_hook({int hook});<cr>
Register_Hook_Proc<d>[void] <s>register_hook_proc({int hook}, {procedure proc});<cr>
<m+>Hooks Аргументы
Get_Sfall_Arg<d>[int] <s>get_sfall_arg;<cr>
Set_Sfall_Arg<d>[void] <s>set_sfall_arg({int arg}, {int value});<cr>
Get_Sfall_Args<d>[array] <s>get_sfall_args;<cr>
Set_Sfall_Args<d>[array] <s>set_sfall_args({int arg}, {int value});<cr>
Set_Sfall_Return<d>[void] <s>set_sfall_return({int value});<cr>
<m->
<m->
<m+>Функции карты
Sneak_Success<d>[int] <s>sneak_success
Create_Spatial<d>[ObjectPtr] <s>create_spatial({int scriptID}, {int tile}, {int elevation}, {int radius});<cr>
In_World_Map<d>[bool] <s>in_world_map
Force_Encounter<d>[void] <s>force_encounter({int map});<cr>
Force_Encounter_With_Flags<d>[void] <s>force_encounter_with_flags({int map}, {int flags});<cr>
Get_Tile_Fid<d>[int] <s>get_tile_fid({int tile})
Get_Light_Level<d>[int] <s>get_light_level
Tile_Light<d>[int] <s>tile_light({int elevation}, {int tileNum});<cr>
Tile_Under_Cursor<d>[int] <s>tile_under_cursor
Tile_Get_Objs<d>[array] <s>tile_get_objs({int tileNum}, {int elevation});<cr>
Obj_Blocking_Line<d>[ObjectPtr] <s>obj_blocking_line({ObjectPtr objFrom}, {int tileTo}, {int blockingType});<cr>
Obj_Blocking_Tile<d>[ObjectPtr] <s>obj_blocking_tile({int tileNum}, {int elevation}, {int blockingType});<cr>
Path_Find_To<d>[array] <s>path_find_to({ObjectPtr objFrom}, {int tileTo}, {int blockingType});<cr>
Set_World_Map_Pos<d>[void] <s>set_world_map_pos({int x}, {int y});<cr>
Get_World_Map_X_Pos<d>[int] <s>get_world_map_x_pos
Get_World_Map_Y_Pos<d>[int] <s>get_world_map_y_pos
Set_Map_Time_Multi<d>[void] <s>set_map_time_multi({float multi});<cr>
<m->
<m+>Игровые Функции
Get_Year<d>[int] <s>get_year
Get_Uptime<d>[int] Полезно для создания исчезающих эффектов в шейдерах, так как они уже имеют доступ к текущему счетчику тактов функции GetTickCount().<s>get_uptime
Set_Pyromaniac_Mod<d>[void] <s>set_pyromaniac_mod({int bonus});<cr>
Set_Swiftlearner_Mod<d>[void] <s>set_swiftlearner_mod({int bonus});<cr>
Set_Hp_Per_Level_Mod<d>[void] <s>set_hp_per_level_mod({int mod});<cr>
Mod_Skill_Points_Per_Level<d>[void] Изменяет количество очков навыка за уровень, при получении нового уровня. Принимает значение от -100 до 100.<s>mod_skill_points_per_level({int value});<cr>
Set_Available_Skill_Points<d>[void] <s>set_available_skill_points({int value});<cr>
Get_Available_Skill_Points<d>[int] <s>get_available_skill_points
Set_Pickpocket_Max<d>[void] <s>set_pickpocket_max({int percentage});<cr>
Set_Hit_Chance_Max<d>[void] <s>set_hit_chance_max({int percentage});<cr>
Set_Skill_Max<d>[void] <s>set_skill_max({int value});<cr>
Set_Xp_Mod<d>[void] <s>set_xp_mod({int percentage});<cr>
Set_Inven_Ap_Cost<d>[void] <s>set_inven_ap_cost({int value});<cr>
Set_Unspent_Ap_Bonus<d>[void] <s>set_unspent_ap_bonus({int multiplier});<cr>
Get_Unspent_Ap_Bonus<d>[int] <s>get_unspent_ap_bonus
Set_Unspent_Ap_Perk_Bonus<d>[void] <s>set_unspent_ap_perk_bonus({int multiplier});<cr>
Get_Unspent_Ap_Perk_Bonus<d>[int] <s>get_unspent_ap_perk_bonus
Gdialog_Get_Barter_Mod<d>[int] <s>gdialog_get_barter_mod
Set_Pipboy_Available<d>[void] <s>set_pipboy_available({int available});<cr>
Set_Car_Current_Town<d>[void] <s>set_car_current_town({int town});<cr>
Party_Member_List<d>[array] <s>party_member_list({int includeHidden});<cr>
Obj_Is_Carrying_Obj<d>[int] <s>obj_is_carrying_obj({ObjectPtr invenObj}, {ObjectPtr itemObj});<cr>
Active_Hand<d>[int] <s>active_hand
Toggle_Active_Hand<d>[void] <s>toggle_active_hand;<cr>
<m+>Боевые функции
Get_Attack_Type<d>[int] <s>get_attack_type
Get_Last_Target<d>[objptr] Возвращает указатель на последнего криттера, которого атаковали.<s>get_last_target({objptr critter});<cr>
Get_Last_Attacker<d>[objptr] Возвращает указатель на последнего атакующего криттера.<s>get_last_attacker({objptr critter});<cr>
Set_Critter_Burst_Disable<d>[void] <s>set_critter_burst_disable({int critter}, {int disable});<cr>
Force_Aimed_Shots<d>[void] <s>force_aimed_shots({int pid});<cr>
Disable_Aimed_Shots<d>[void] <s>disable_aimed_shots({int pid});<cr>
Get_Weapon_Ammo_Pid<d>[int] <s>get_weapon_ammo_pid({objptr weapon});<cr>
Set_Weapon_Ammo_Pid<d>[void] <s>set_weapon_ammo_pid({objptr weapon}, {int pid});<cr>
Get_Weapon_Ammo_Count<d>[int] <s>get_weapon_ammo_count({objptr weapon});<cr>
Set_Weapon_Ammo_Count<d>[void] <s>set_weapon_ammo_count({objptr weapon}, {int count});<cr>
Set_Weapon_Knockback<d>[void] <s>set_weapon_knockback({WeaponPtr}, {int type}, {float value});<cr>
Set_Target_Knockback<d>[void] <s>set_target_knockback({CritterPtr}, {int type}, {float value});<cr>
Set_Attacker_Knockback<d>[void] <s>set_attacker_knockback({CritterPtr}, {int type}, {float value});<cr>
Remove_Weapon_Knockback<d>[void] <s>remove_weapon_knockback({WeaponPtr});<cr>
Remove_Target_Knockback<d>[void] <s>remove_target_knockback({CritterPtr});<cr>
Remove_Attacker_Knockback<d>[void] <s>remove_attacker_knockback({CritterPtr});<cr>
Get_Bodypart_Hit_Modifier<d>[int] <s>get_bodypart_hit_modifier({int bodypart});<cr>
Set_Bodypart_Hit_Modifier<d>[void] <s>set_bodypart_hit_modifier({int bodypart}, {int value});<cr>
Set_Critical_Table<d>[void] <s>set_critical_table({int crittertype}, {int bodypart}, {int level}, {int valuetype}, {int value});<cr>
Get_Critical_Table<d>[int] <s>get_critical_table({int crittertype}, {int bodypart}, {int level}, {int valuetype});<cr>
Reset_Critical_Table<d>[void] <s>reset_critical_table({int crittertype}, {int bodypart}, {int level}, {int valuetype});<cr>
<m->
<m->
<m+>Функции Криттер/Игрок
Set_Critter_Pickpocket_Mod<d>[void] Изменяет для криттера максимальный шанс на успех, и шанс при попытки использования умении Кража.<s>set_critter_pickpocket_mod({CritterPtr}, {int max}, {int mod});<cr>
Set_Base_Pickpocket_Mod<d>[void] <s>set_base_pickpocket_mod({int max}, {int mod});<cr>
Get_Critter_Current_Ap<d>[int] <s>get_critter_current_ap({CritterPtr});<cr>
Set_Critter_Current_Ap<d>[void] <s>set_critter_current_ap({CritterPtr}, {int ap});<cr>
Set_Critter_Hit_Chance_Mod<d>[void] <s>set_critter_hit_chance_mod({CritterPtr}, {int max}, {int mod});<cr>
Set_Base_Hit_Chance_Mod<d>[void] <s>set_base_hit_chance_mod({int max}, {int mod});<cr>
Set_Critter_Skill_Mod<d>[void] <s>set_critter_skill_mod({CritterPtr}, {int max});<cr>
Set_Base_Skill_Mod<d>[void] <s>set_base_skill_mod({int max});<cr>
Set_Pc_Base_Stat<d>[void] <s>set_pc_base_stat({int StatID}, {int value});<cr>
Set_Pc_Extra_Stat<d>[void] <s>set_pc_extra_stat({int StatID}, {int value});<cr>
Get_Pc_Base_Stat<d>[int] <s>get_pc_base_stat({int StatID});<cr>
Get_Pc_Extra_Stat<d>[int] <s>get_pc_extra_stat({int StatID});<cr>
Set_Critter_Base_Stat<d>[void] <s>set_critter_base_stat({CritterPtr}, {int StatID}, {int value});<cr>
Set_Critter_Extra_Stat<d>[void] <s>set_critter_extra_stat({CritterPtr}, {int StatID}, {int value});<cr>
Get_Critter_Base_Stat<d>[int] <s>get_critter_base_stat({CritterPtr}, {int StatID});<cr>
Get_Critter_Extra_Stat<d>[int] <s>get_critter_extra_stat({CritterPtr}, {int StatID});<cr>
Set_Critter_Skill_Points<d>[void] <s>set_critter_skill_points({int critter}, {int skill}, {int value});<cr>
Get_Critter_Skill_Points<d>[int] <s>get_critter_skill_points({int critter}, {int skill});<cr>
Set_Stat_Max<d>[void] <s>set_stat_max({int stat}, {int value});<cr>
Set_Stat_Min<d>[void] <s>set_stat_min({int stat}, {int value});<cr>
Set_Pc_Stat_Max<d>[void] <s>set_pc_stat_max({int stat}, {int value});<cr>
Set_Pc_Stat_Min<d>[void] <s>set_pc_stat_min({int stat}, {int value});<cr>
Set_Npc_Stat_Max<d>[void] <s>set_npc_stat_max({int stat}, {int value});<cr>
Set_Npc_Stat_Min<d>[void] <s>set_npc_stat_min({int stat}, {int value});<cr>
Get_Kill_Counter<d>[int] <s>get_kill_counter({int critterType});<cr>
Mod_Kill_Counter<d>[void] <s>mod_kill_counter({int critterType}, {int amount});<cr>
Inc_Npc_Level<d>[void] <s>inc_npc_level({char* npc});<cr>
Get_Npc_Level<d>[int] <s>get_npc_level({char* npc});<cr>
<m->
<m+>Функции Интерфейса/Звук/Видео
Create_Message_Window<d>[void] <s>create_message_window({char* message});<cr>
Show_Iface_Tag<d>[void] <s>show_iface_tag({int tag});<cr>
Hide_Iface_Tag<d>[void] <s>hide_iface_tag({int tag});<cr>
Is_Iface_Tag_Active<d>[int] <s>is_iface_tag_active({int tag})
Set_Movie_Path<d>[void] <s>set_movie_path({char* filename}, {int movieid});<cr>
Mark_Movie_Played<d>[void] <s>mark_movie_played({int id});<cr>
Play_Sfall_Sound<d>[int] <s>play_sfall_sound({char* file}, {int loop});<cr>
Stop_Sfall_Sound<d>[void] <s>stop_sfall_sound({int ptr});<cr>
Stop_Game<d>[void] <s>stop_game;<cr>
Resume_Game<d>[void] <s>resume_game;<cr>
<m->
<m+>Функции Анимации
Art_Exists<d>[int] <s>art_exists({int artFID})
Reg_Anim_Combat_Check<d>[void] <s>reg_anim_combat_check({int enable});<cr>
Reg_Anim_Destroy<d>[void] <s>reg_anim_destroy({objptr object});<cr>
Reg_Anim_Animate_And_Hide<d>[void] <s>reg_anim_animate_and_hide({objptr object}, {int animID}, {int delay});<cr>
Reg_Anim_Light<d>[void] <s>reg_anim_light({objptr object}, {int radius}, {int delay});<cr>
Reg_Anim_Change_Fid<d>[void] <s>reg_anim_change_fid({objptr object}, {int FID}, {int delay});<cr>
Reg_Anim_Take_Out<d>[void] <s>reg_anim_take_out({objptr object}, {int holdFrameID}, {int delay});<cr>
Reg_Anim_Turn_Towards<d>[void] <s>reg_anim_turn_towards({objptr object}, {int tile/targetObj}, {int delay});<cr>
Metarule2_Explosions<d>[int] <s>metarule2_explosions({objptr object});<cr>
<m+>Макросы
Set_Attack_Explosion_Pattern<d>[void] Установить шаблон взрыва для следующей анимации взрыва.<s>set_attack_explosion_pattern([int pattern], 0);<cr>
Set_Attack_Explosion_Art<d>[void] Установить идентификатор FRM для следующей анимации взрыва.<s>set_attack_explosion_art({int frameID}, 0);<cr>
Set_Attack_Explosion_Radius<d>[void] Изменяет радиус для следующей атаки, при котором взрыв достигнет вторичных целей.<s>set_attack_explosion_radius({int radius});<cr>
Set_Attack_is_Explosion<d>[void] Установить следующую атаку как взрыв с повреждением указанного типа.<s>set_attack_is_explosion({int dmgType});<cr>
Set_Attack_is_Explosion_Fire<d>[void] Установить следующую атаку как взрыв с повреждением типа FIRE.<s>set_attack_is_explosion_fire;<cr>
<m->
<m->
<m+>Массивы
Create_Array<d>[int] <s>create_array({int elementcount}, {int elementsize});<cr>
Set_Array<d>[void] <s>set_array({int array}, {any element}, {any value});<cr>
Get_Array<d>[any] <s>get_array({int array}, {any element});<cr>
Free_Array<d>[void] <s>free_array({int array});<cr>
Len_Array<d>[int] <s>len_array({int array});<cr>
Resize_Array<d>[void] <s>resize_array({int array}, {int newelementcount});<cr>
Temp_Array<d>[int] <s>temp_array({int elementcount}, {int elementsize});<cr>
Fix_Array<d>[void] <s>fix_array({int array});<cr>
Scan_Array<d>[int] <s>scan_array({int array}, {int/float var});<cr>
Array_Key<d>[int] <s>array_key({int array}, {int index});<cr>
Arrayexpr<d>[int] <s>arrayexpr({any key}, {any value});<cr>
Save_Array<d>[void] <s>save_array({any key}, {int array});<cr>
Load_Array<d>[int] <s>load_array({any key});<cr>
List_Begin<d>[int] <s>list_begin({int type});<cr>
List_Next<d>[int] <s>list_next({int listid});<cr>
List_End<d>[void] <s>list_end({int listid});<cr>
List_As_Array<d>[array] <s>list_as_array({int type})
<m+>Макросы (sfall.h)
Create_Array_List<d>[array] Создает постоянный список массива.<s>create_array_list({int size});<cr>
Temp_Array_List<d>[array] Создает временный список массив.<s>temp_array_list({int size});<cr>
Create_Array_Map<d>[array] Создает постоянный массив Map.<s>create_array_map;<cr>
Temp_Array_Map<d>[array] Создает временный массив Map.<s>temp_array_map;<cr>
Array_is_Map<d>[bool] Возвращает True, если массив является массивов Map, False в противном случае.<s>array_is_map({array})
List_Saved_Arrays<d>[array] Возвращает временный массив с именами всех сохраненных массивов с помощью save_array, в алфавитном порядке.<s>list_saved_arrays;<cr>
Unsave_Array<d>[void] Удаляет указанный массив из Savegame.<s>unsave_array({array});<cr>
Is_in_Array<d>[bool] Возвращает значение True, если данный элемент существует в заданном массиве, иначе False.<s>is_in_array({int element}, {array})
Array_Exists<d>[bool] Возвращает True, если данный массив существует, False в противном случае.<s>array_exists({array})
Clear_Array<d>[void] Удаляет все элементы из массива.<s>clear_array({array});<cr>
Sort_Array<d>[void] Сортировка массива в порядке возрастания.<s>sort_array({array});<cr>
Sort_Array_reverse<d>[void] Сортировка массива в порядке убывания.<s>sort_array_reverse({array});<cr>
Reverse_Array<d>[void] Расположить в обратном порядке элементы в массиве.<s>reverse_array({array});<cr>
Shuffle_Array<d>[void] Случайным образом перетасовать элементы в массиве.<s>shuffle_array({array});<cr>
Unset_Array<d>[void] Удалить элемент из Map массива, или установить значение в 0, для элемента массива.<s>unset_array({array}, {int element});<cr>
<m->
<m->
<m+>Функции Perks/Traits
Set_Perk_Level_Mod<d>[void] <s>set_perk_level_mod({int levels});<cr>
Set_Perk_Freq<d>[void] Задает число уровней между получением нового перка.<s>set_perk_freq({int value});<cr>
Set_Fake_Perk<d>[void] <s>set_fake_perk({char* name}, {int level}, {int image}, {char* desc});<cr>
Set_Fake_Trait<d>[void] <s>set_fake_trait({char* name}, {int active}, {int image}, {char* desc});<cr>
Set_Selectable_Perk<d>[void] <s>set_selectable_perk({char* name}, {int active}, {int image}, {char* desc});<cr>
Set_Perkbox_Title<d>[void] <s>set_perkbox_title({char* title});<cr>
Hide_Real_Perks<d>[void] <s>hide_real_perks;<cr>
Show_Real_Perks<d>[void] <s>show_real_perks;<cr>
Has_Fake_Perk<d>[int] <s>has_fake_perk({char* name});<cr>
Has_Fake_Trait<d>[int] <s>has_fake_trait({char* name});<cr>
Perk_Add_Mode<d>[void] <s>perk_add_mode({int type});<cr>
Clear_Selectable_Perks<d>[void] <s>clear_selectable_perks;<cr>
Remove_Trait<d>[void] <s>remove_trait({int traitID});<cr>
Get_Perk_Owed<d>[int] <s>get_perk_owed
Set_Perk_Owed<d>[void] <s>set_perk_owed({int value});<cr>
Get_Perk_Available<d>[int] <s>get_perk_available({int perk});<cr>
<m+>Параметры
Set_Perk_Name<d>[void] <s>set_perk_name({int perkID}, {char* value});<cr>
Set_Perk_Desc<d>[void] <s>set_perk_desc({int perkID}, {char* value});<cr>
Set_Perk_Image<d>[void] <s>set_perk_image({int perkID}, {int value});<cr>
Set_Perk_Ranks<d>[void] <s>set_perk_ranks({int perkID}, {int value});<cr>
Set_Perk_Level<d>[void] <s>set_perk_level({int perkID}, {int value});<cr>
Set_Perk_Stat<d>[void] <s>set_perk_stat({int perkID}, {int value});<cr>
Set_Perk_Stat_Mag<d>[void] <s>set_perk_stat_mag({int perkID}, {int value});<cr>
Set_Perk_Skill1<d>[void] <s>set_perk_skill1({int perkID}, {int value});<cr>
Set_Perk_Skill1_Mag<d>[void] <s>set_perk_skill1_mag({int perkID}, {int value});<cr>
Set_Perk_Type<d>[void] <s>set_perk_type({int perkID}, {int value});<cr>
Set_Perk_Skill2<d>[void] <s>set_perk_skill2({int perkID}, {int value});<cr>
Set_Perk_Skill2_Mag<d>[void] <s>set_perk_skill2_mag({int perkID}, {int value});<cr>
Set_Perk_Str<d>[void] <s>set_perk_str({int perkID}, {int value});<cr>
Set_Perk_Per<d>[void] <s>set_perk_per({int perkID}, {int value});<cr>
Set_Perk_End<d>[void] <s>set_perk_end({int perkID}, {int value});<cr>
Set_Perk_Chr<d>[void] <s>set_perk_chr({int perkID}, {int value});<cr>
Set_Perk_Int<d>[void] <s>set_perk_int({int perkID}, {int value});<cr>
Set_Perk_Agl<d>[void] <s>set_perk_agl({int perkID}, {int value});<cr>
Set_Perk_Lck<d>[void] <s>set_perk_lck({int perkID}, {int value});<cr>
<m->
<m->
<m+>Текстовые Функции
String_Split<d>[array] <s>string_split({char* string}, {char* split});<cr>
Atoi<d>[int] <s>atoi({char* string});<cr>
Atof<d>[float] <s>atof({char* string});<cr>
Substr<d>[char*] <s>substr({char* string}, {int start}, {int length});<cr>
Strlen<d>[int] <s>strlen({char* string});<cr>
Sprintf<d>[char*] <s>sprintf({char* format}, {any value});<cr>
Charcode<d>[int] <s>charcode({char* string});<cr>
Message_Str_Game<d>[char*] <s>message_str_game({int fileId}, {int messageId})
<m+>Макросы (sfall.h)
Mstr_Combat<d>[string] Возвращает строку текста из файла игры COMBAT.MSG<s>mstr_combat({int fileId})
Mstr_Ai<d>[string] Возвращает строку текста из файла игры COMBATAI.MSG<s>mstr_ai({int fileId})
Mstr_Scrname<d>[string] Возвращает строку текста из файла игры SCRNAME.MSG<s>mstr_scrname({int fileId})
Mstr_Misc<d>[string] Возвращает строку текста из файла игры MISC.MSG<s>mstr_misc({int fileId})
Mstr_Custom<d>[string] Возвращает строку текста из файла игры CUSTOM.MSG<s>mstr_custom({int fileId})
Mstr_Inventry<d>[string] Возвращает строку текста из файла игры INVENTRY.MSG<s>mstr_inventry({int fileId})
Mstr_Item<d>[string] Возвращает строку текста из файла игры ITEM.MSG<s>mstr_item({int fileId})
Mstr_Lsgame<d>[string] Возвращает строку текста из файла игры LSGAME.MSG<s>mstr_lsgame({int fileId})
Mstr_Map<d>[string] Возвращает строку текста из файла игры MAP.MSG<s>mstr_map({int fileId})
Mstr_Options<d>[string] Возвращает строку текста из файла игры OPTIONS.MSG<s>mstr_options({int fileId})
Mstr_Perk<d>[string] Возвращает строку текста из файла игры PERK.MSG<s>mstr_perk({int fileId})
Mstr_Pipboy<d>[string] Возвращает строку текста из файла игры PIPBOY.MSG<s>mstr_pipboy({int fileId})
Mstr_Quests<d>[string] Возвращает строку текста из файла игры QUESTS.MSG<s>mstr_quests({int fileId})
Mstr_Proto<d>[string] Возвращает строку текста из файла игры PROTO.MSG<s>mstr_proto({int fileId})
Mstr_Script<d>[string] Возвращает строку текста из файла игры SCRIPT.MSG<s>mstr_script({int fileId})
Mstr_Skill<d>[string] Возвращает строку текста из файла игры SKILL.MSG<s>mstr_skill({int fileId})
Mstr_Skilldex<d>[string] Возвращает строку текста из файла игры SKILLDEX.MSG<s>mstr_skilldex({int fileId})
Mstr_Stat<d>[string] Возвращает строку текста из файла игры STAT.MSG<s>mstr_stat({int fileId})
Mstr_Trait<d>[string] Возвращает строку текста из файла игры TRAIT.MSG<s>mstr_trait({int fileId})
Mstr_Worldmap<d>[string] Возвращает строку текста из файла игры WORLDMAP.MSG<s>mstr_worldmap({int fileId})
<m->
<m->
<m+>Математические Функции
Sqrt<d>[float] <s>sqrt({float x})
Abs<d>[float] <s>abs({float x})
Sin<d>[float] <s>sin({float x})
Cos<d>[float] <s>cos({float x})
Tan<d>[float] <s>tan({float x})
Arctan<d>[float] <s>arctan({float x}, {float y})
Operator ^<d>[float] <s>^({exponentiation})
Log<d>[float] <s>log({float x})
Exponent<d>[float] <s>exponent({float x})
Round<d>[int] <s>round({float x})
Ceil<d>[int] - Disabled function.<s>ceil({float x})
<m->
<m+>Функции Клавиатуры/Мышки/Экрана
Input_Funcs_Available<d>[int] <s>input_funcs_available
Key_Pressed<d>[int] <s>key_pressed({int dxScancode});<cr>
Tap_Key<d>[void] <s>tap_key({int dxScancode});<cr>
Get_Mouse_X<d>[int] <s>get_mouse_x
Get_Mouse_Y<d>[int] <s>get_mouse_y
Get_Mouse_Buttons<d>[int] <s>get_mouse_buttons
Get_Window_Under_Mouse<d>[int] <s>get_window_under_mouse
Get_Screen_Width<d>[int] <s>get_screen_width
Get_Screen_Height<d>[int] <s>get_screen_height
Get_Viewport_X<d>[int] <s>get_viewport_x
Get_Viewport_Y<d>[int] <s>get_viewport_y
Set_Viewport_X<d>[void] <s>set_viewport_x({int view_x});<cr>
Set_Viewport_Y<d>[void] <s>set_viewport_y({int view_y});<cr>
Refresh_Pc_Art<d>[void] <s>refresh_pc_art;<cr>
<m->
<m+>Работа с ini файлами
Get_Ini_Setting<d>[int] Получает целое число параметра из указанного файла ini, в директории игры Fallout.<s>get_ini_setting({char* setting})
Get_Ini_String<d>[char*] Получает строковое значение параметра из указанного файла ini, в директории игры Fallout.<s>get_ini_string({char* setting})
Modified_Ini<d>[int]<s>modified_ini
<m+>Макросы (sfall.h)
Get_Ini_Section<d>[array] Возвращает ассоциативный массив ключей и значений раздела в указанном INI-файле.<s>get_ini_section({string file}, {string sect})
Get_Ini_Sections<d>[array] Возвращает массив имен всех разделов в данном INI-файле.<s>get_ini_sections({string file})
<m->
<m->
<m+>Функции для работы с Pro-Файлами и объектами
Get_Proto_Data<d>[int] <s>get_proto_data({objptr}, {int offset});<cr>
Set_Proto_Data<d>[void] <s>set_proto_data({objptr}, {int offset}, {int value});<cr>
Set_Script<d>[void] <s>set_script({objptr}, {int scriptid});<cr>
Get_Script<d>[int] <s>get_script({objptr});<cr>
Remove_Script<d>[void] <s>remove_script({objptr});<cr>
<m->
<m+>Графические Функции
Graphics_Funcs_Available<d>[bool] <s>graphics_funcs_available
Load_Shader<d>[int] <s>load_shader({char* path});<cr>
Free_Shader<d>[void] <s>free_shader({int ID});<cr>
Activate_Shader<d>[void] <s>activate_shader({int ID});<cr>
Deactivate_Shader<d>[void] <s>deactivate_shader({int ID});<cr>
Set_Shader_Int<d>[void] <s>set_shader_int({int ID}, {char* param}, {int value});<cr>
Set_Shader_Float<d>[void] <s>set_shader_float({int ID}, {char* param}, {float value});<cr>
Set_Shader_Vector<d>[void] <s>set_shader_vector({int ID}, {char* param}, {float f1}, {float f2}, {float f3}, {float f4});<cr>
Get_Shader_Version<d>[int] <s>get_shader_version
Set_Shader_Mode<d>[void] <s>set_shader_mode({int mode});<cr>
Force_Graphics_Refresh<d>[void] <s>force_graphics_refresh({bool enabled});<cr>
Get_Shader_Texture<d>[int] <s>get_shader_texture({int ID}, {int texture});<cr>
Set_Shader_Texture<d>[void] <s>set_shader_texture({int ID}, {char* param}, {int texID});<cr>
Set_Palette<d>[void] <s>set_palette({char* path});<cr>
<m->
<m+>Функции Чтения/Записи/Вызовов и работа с файлами
Read_Byte<d>[int] <s>read_byte({int address});<cr>
Read_Short<d>[int] <s>read_short({int address});<cr>
Read_Int<d>[int] <s>read_int({int address});<cr>
Read_String<d>[char*] <s>read_string({int address});<cr>
Write_Byte<d>[void] <s>write_byte({int address}, {int value});<cr>
Write_Short<d>[void] <s>write_short({int address}, {int value});<cr>
Write_Int<d>[void] <s>write_int({int address}, {int value});<cr>
Write_String<d>[void] <s>write_string({int address}, {char* value});<cr>
Call_Offset_V0<d>[void] <s>call_offset_v0({int address});<cr>
Call_Offset_V1<d>[void] <s>call_offset_v1({int address}, {int arg1});<cr>
Call_Offset_V2<d>[void] <s>call_offset_v2({int address}, {int arg1}, {int arg2});<cr>
Call_Offset_V3<d>[void] <s>call_offset_v3({int address}, {int arg1}, {int arg2}, {int arg3});<cr>
Call_Offset_V4<d>[void] <s>call_offset_v4({int address}, {int arg1}, {int arg2}, {int arg3}, {int arg4});<cr>
Call_Offset_R0<d>[int] <s>call_offset_r0({int address});<cr>
Call_Offset_R1<d>[int] <s>call_offset_r1({int address}, {int arg1});<cr>
Call_Offset_R2<d>[int] <s>call_offset_r2({int address}, {int arg1}, {int arg2});<cr>
Call_Offset_R3<d>[int] <s>call_offset_r3({int address}, {int arg1}, {int arg2}, {int arg3});<cr>
Call_Offset_R4<d>[int] <s>call_offset_r4({int address}, {int arg1}, {int arg2}, {int arg3}, {int arg4});<cr>
<m+>Файлы
Fs_Create<d>[int] <s>fs_create({string path}, {int size});<cr>
Fs_Copy<d>[int] <s>fs_copy({string path}, {string source});<cr>
Fs_Find<d>[int] <s>fs_find({string path});<cr>
Fs_Write_Byte<d>[void] <s>fs_write_byte({int id}, {int data});<cr>
Fs_Write_Short<d>[void] <s>fs_write_short({int id}, {int data});<cr>
Fs_Write_Int<d>[void] <s>fs_write_int({int id}, {int data});<cr>
Fs_Write_Float<d>[void] <s>fs_write_float({int id}, {int data});<cr>
Fs_Write_String<d>[void] <s>fs_write_string({int id}, {string data});<cr>
Fs_Write_Bstring<d>[void] <s>fs_write_bstring({int id}, {string data});<cr>
Fs_Read_Byte<d>[int] <s>fs_read_byte({int id});<cr>
Fs_Read_Short<d>[int] <s>fs_read_short({int id});<cr>
Fs_Read_Int<d>[int] <s>fs_read_int({int id});<cr>
Fs_Read_Float<d>[float] <s>fs_read_float({int id});<cr>
Fs_Delete<d>[void] <s>fs_delete({int id});<cr>
Fs_Size<d>[int] <s>fs_size({int id});<cr>
Fs_Pos<d>[int] <s>fs_pos({int id});<cr>
Fs_Seek<d>[void] <s>fs_seek({int id}, {int pos});<cr>
Fs_Resize<d>[void] <s>fs_resize({int id}, {int size});<cr>
<m->
<m->
<m+>Другие функции
Sfall_Ver_Major<d>[int] <s>sfall_ver_major
Sfall_Ver_Minor<d>[int] <s>sfall_ver_minor
Sfall_Ver_Build<d>[int] <s>sfall_ver_build
Apply_Heaveho_Fix<d>[void] <s>apply_heaveho_fix;<cr>
Nb_Create_Char<d>[int] <s>nb_create_char;<cr>
Eax_Available<d>[int] <s>eax_available
Set_Eax_Environment<d>[void] <s>set_eax_environment({int environment});<cr>
Set_Dm_Model<d>[void] <s>set_dm_model({char* name});<cr>
Set_Df_Model<d>[void] <s>set_df_model({char* name});<cr>
Hero_Select_Win<d>[void] <s>hero_select_win({int});<cr>
Set_Hero_Race<d>[void] <s>set_hero_race({int style});<cr>
Set_Hero_Style<d>[void] <s>set_hero_style({int style});<cr>
<m->
<m+>Общие макросы (sfall.h)
Party_Member_List_Critters<d>[array] Возвращает массив текущих членов партии.<s>party_member_list_critters
Party_Member_List_All<d>[array] Возвращает массив текущих членов партии, включая скрытых.<s>party_member_list_all
<m+>Макросы FUNCX
Critter_Inven_Obj2<d>[ObjectPtr] Works just like critter_inven_obj, but correctly reports item in player's inactive hand slot.<s>critter_inven_obj2({ObjectPtr obj}, {int type})
Outlined_Object<d>[ObjectPtr] Возвращает указатель на объект, который в настоящее время подсвечивается курсором мышки.<s>outlined_object
Get_Outline<d>[int] Получает текущий цвет контура подсветки для указанного объекта.<s>get_outline({ObjectPtr obj})
Set_Outline<d>[void] Устанавливает контурный цвет подсветки для указанного объекта.<s>set_outline({ObjectPtr obj}, {int color});<cr>
Tile_Refresh_Display<d>[void] Перерисовывает карту игры (плитки, стены, объекты и т.д.)<s>tile_refresh_display;<cr>
Car_Gas_Amount<d>[int] Возвращает текущее количество топлива в автомобиле игрока (от 0 до 80000).<s>car_gas_amount
Set_Car_Intface_Art<d>[void] Изменяет индекс(из LST-файла) для изображения автомобиля на экране карты мира.<s>set_car_intface_art({int artIndex});<cr>
Real_Dude_Obj<d>[ObjectPtr] Возвращает (изначальный) указатель на игрока (dude_obj), после использования функции set_dude_obj.<s>real_dude_obj
Set_Dude_Obj<d>[void] Дает под контроль игрока указанного криттера.<s>set_dude_obj({ObjectPtr critter});<cr>
Get_Flags<d>[int] Возвращает текущее значение флагов для указанного объекта (см. sfall.h значения флагов).<s>get_flags({ObjectPtr obj})
Set_Flags<d>[void] Устанавливает текущие флаги для указанного объекта.<s>set_flags({ObjectPtr obj}, {int flags});<cr>
Exec_Map_Update_Scripts<d>[void] Выполняет map_update_p_proc для всех объектов на карте, и в global/hook скриптах.<s>exec_map_update_scripts;<cr>
Spatial_Radius<d>[int] Возвращает радиус пространственного скрипта указанного объекта.<s>spatial_radius({ObjectPtr obj})
Intface_Show<d>[void] Показать основной интерфейс игры.<s>intface_show;<cr>
Intface_Hide<d>[void] Скрыть основной интерфейс игры.<s>intface_hide;<cr>
Intface_is_Hidden<d>[bool] Вернуть True(1), если интерфейс в настоящее время скрыт, False(0) в противном случае.<s>intface_is_hidden
Intface_Redraw<d>[void] Перерисовывает основной игровой интерфейс.<s>intface_redraw;<cr>
<m->
<m->
<->
